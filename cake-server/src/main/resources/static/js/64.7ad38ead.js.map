{"version":3,"file":"js/64.7ad38ead.js","mappings":"wPAuCA,MAAMA,GAASC,EAAAA,EAAAA,IAAI,IACbC,GAAYD,EAAAA,EAAAA,IAAI,IAChBE,GAASF,EAAAA,EAAAA,IAAI,MAEbG,EAAaA,KACf,GAA4B,IAAxBJ,EAAOK,MAAMC,OAEb,YADAC,EAAAA,GAAUC,QAAQ,SAGtB,IAAIC,EAAW,IAAIC,SACnBV,EAAOK,MAAMM,QAAQC,IACjBH,EAASI,OAAO,QAASD,EAAKE,OAElCC,EAAAA,EAAMC,KACF,QACAP,EACA,CAACQ,QAAS,CAAC,eAAgB,yBAAyBC,KAAKC,IACzDZ,EAAAA,GAAUa,QAAQ,UAClBpB,EAAOK,MAAQ,GACfgB,MACDC,MAAMC,IACLhB,EAAAA,GAAUgB,MAAM,SAAUA,EAAMC,QAKlCC,EAAeA,CAACb,EAAMc,KACxB1B,EAAOK,MAAQqB,EACfC,QAAQC,IAAI,aAAchB,IAIxBiB,EAAiBjB,IACnBe,QAAQC,IAAI,aAAchB,IAIxBkB,EAAeA,CAAClB,EAAMc,KACxB1B,EAAOK,MAAQqB,EACfC,QAAQC,IAAI,cAAehB,IAIzBmB,EAAeA,KACjBxB,EAAAA,GAAUC,QAAQ,UAClBmB,QAAQC,IAAI,iBAGVP,EAAYA,KACdN,EAAAA,EAAMiB,IAAI,aACLd,KAAKe,IACF/B,EAAUG,MAAQ4B,EAASC,KAC3BP,QAAQC,IAAI,cAEfN,MAAMC,IACHhB,EAAAA,GAAUgB,MAAM,e,OAI5BY,EAAAA,EAAAA,IAAU,KACNd,M,iJAlGAe,EAAAA,EAAAA,IA8BM,aA7BFC,EAAAA,EAAAA,IAoBYC,EAAA,CAnBJC,SAAA,GACCC,MAAO,EACRC,MAAM,W,QACF,SAAJxC,IAAIE,EACJuC,OAAO,6BACN,aAAYb,EACZ,YAAWJ,EACX,YAAWK,EACX,YAAWC,EACX,YAAW/B,EAAAK,MACZ,YAAU,UACT,eAAa,G,CACPsC,SAAOC,EAAAA,EAAAA,IACd,IAAuD,EAAvDP,EAAAA,EAAAA,IAAuDQ,EAAA,CAA5CC,KAAK,QAAQC,KAAK,W,kBAAU,IAAIC,EAAA,KAAAA,EAAA,K,QAAJ,QAAI,M,eAGpCC,KAAGL,EAAAA,EAAAA,IACV,IAAyDI,EAAA,KAAAA,EAAA,KAAzDE,EAAAA,EAAAA,IAAyD,OAApDT,MAAM,kBAAiB,2BAAuB,M,iBAFvD,IAAwG,EAAxGJ,EAAAA,EAAAA,IAAwGQ,EAAA,CAA7FM,MAAA,uBAA2BL,KAAK,QAAQC,KAAK,UAAWK,QAAOhD,G,kBAAY,IAAM4C,EAAA,KAAAA,EAAA,K,QAAN,UAAM,M,sCAKhGX,EAAAA,EAAAA,IAOSgB,EAAA,CAPAC,OAAQ,IAAE,C,iBACP,IAAwB,G,aAAhClB,EAAAA,EAAAA,IAKSmB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALatD,EAAAG,MAAPoD,K,WAAfC,EAAAA,EAAAA,IAKSC,EAAA,CALyBC,KAAM,EAAIC,IAAKJ,G,kBAC7C,IAG8B,EAH9BpB,EAAAA,EAAAA,IAG8ByB,EAAA,CAFtBX,MAAA,+BACCY,IAAKN,EACNO,IAAI,Q,4DCtB5B,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://cake_shop/./src/views/register/RegisterView.vue","webpack://cake_shop/./src/views/register/RegisterView.vue?56d1"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-upload\r\n                multiple\r\n                :limit=\"3\"\r\n                class=\"file-box\"\r\n                ref=\"upload\"\r\n                action=\"http://localhost:8088/file\"\r\n                :on-preview=\"handlePreview\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-change=\"handleChange\"\r\n                :on-exceed=\"handleExceed\"\r\n                :file-list=\"images\"\r\n                list-type=\"picture\"\r\n                :auto-upload=\"false\">\r\n            <template #trigger>\r\n                <el-button size=\"small\" type=\"primary\">选取文件</el-button>\r\n            </template>\r\n            <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitFile\">上传到服务器</el-button>\r\n            <template #tip>\r\n                <div class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n            </template>\r\n        </el-upload>\r\n        <el-row :gutter=\"20\">\r\n            <el-col v-for=\"url in imageurls\" :span=\"6\" :key=\"url\">\r\n                <el-image\r\n                        style=\"width: 100px; height: 100px\"\r\n                        :src=\"url\"\r\n                        fit=\"fill\"></el-image>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport axios from '@/utils/request' // 请确保路径正确\r\n\r\nconst images = ref([])\r\nconst imageurls = ref([])\r\nconst upload = ref(null)\r\n\r\nconst submitFile = () => {\r\n    if (images.value.length === 0) {\r\n        ElMessage.warning(\"请选择文件\")\r\n        return\r\n    }\r\n    let formData = new FormData() //创建一个表单\r\n    images.value.forEach(file => {\r\n        formData.append(\"files\", file.raw) //将文件传到表单中，files属性是后端接受的参数名\r\n    })\r\n    axios.post(\r\n        '/file',\r\n        formData,\r\n        {headers: {'Content-Type': 'multipart/form-data'}}).then(res => {\r\n        ElMessage.success(\"文件上传成功\")\r\n        images.value = []\r\n        getImages()\r\n    }).catch(error => {\r\n        ElMessage.error(\"文件上传失败\", error.msg)\r\n    })\r\n}\r\n\r\n//移除文件列表时的钩子\r\nconst handleRemove = (file, fileList) => {\r\n    images.value = fileList\r\n    console.log(\"移除文件列表时的钩子\", file)\r\n}\r\n\r\n//点击某个文件时的钩子\r\nconst handlePreview = (file) => {\r\n    console.log(\"点击某个文件时的钩子\", file)\r\n}\r\n\r\n//添加到上传列表时的钩子\r\nconst handleChange = (file, fileList) => {\r\n    images.value = fileList\r\n    console.log(\"添加到上传列表时的钩子\", file)\r\n}\r\n\r\n//文件超出个数限制时的钩子\r\nconst handleExceed = () => {\r\n    ElMessage.warning(\"文件超出3个\")\r\n    console.log(\"文件超出个数限制时的钩子\")\r\n}\r\n\r\nconst getImages = () => {\r\n    axios.get(\"/filelist\")\r\n        .then(response => {\r\n            imageurls.value = response.data\r\n            console.log(\"获取图片列表成功\")\r\n        })\r\n        .catch(error => {\r\n            ElMessage.error(\"获取图片列表失败\")\r\n        })\r\n}\r\n\r\nonMounted(() => {\r\n    getImages()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.file-box {\r\n    border: 1px solid #DCDFE6;\r\n    width: 350px;\r\n    margin: 50px auto;\r\n    padding: 35px 35px 15px 35px;\r\n    border-radius: 5px;\r\n    -webkit-border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    box-shadow: 0 0 25px #909399;\r\n}\r\n\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.el-row:last-child {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.el-col {\r\n    border-radius: 4px;\r\n}\r\n\r\n.bg-purple-dark {\r\n    background: #99a9bf;\r\n}\r\n\r\n.bg-purple {\r\n    background: #d3dce6;\r\n}\r\n\r\n.bg-purple-light {\r\n    background: #e5e9f2;\r\n}\r\n\r\n.grid-content {\r\n    border-radius: 4px;\r\n    margin-top: 10px;\r\n    min-height: 36px;\r\n}\r\n\r\n.row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n}\r\n</style>","import script from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=6b47fcb3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b47fcb3\"]])\n\nexport default __exports__"],"names":["images","ref","imageurls","upload","submitFile","value","length","ElMessage","warning","formData","FormData","forEach","file","append","raw","axios","post","headers","then","res","success","getImages","catch","error","msg","handleRemove","fileList","console","log","handlePreview","handleChange","handleExceed","get","response","data","onMounted","_createElementBlock","_createVNode","_component_el_upload","multiple","limit","class","action","trigger","_withCtx","_component_el_button","size","type","_cache","tip","_createElementVNode","style","onClick","_component_el_row","gutter","_Fragment","_renderList","url","_createBlock","_component_el_col","span","key","_component_el_image","src","fit","__exports__"],"sourceRoot":""}