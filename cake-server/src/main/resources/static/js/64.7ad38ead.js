"use strict";(self["webpackChunkcake_shop"]=self["webpackChunkcake_shop"]||[]).push([[64],{64:function(e,l,t){t.r(l),t.d(l,{default:function(){return c}});t(8111),t(7588);var a=t(6768),n=t(144),o=t(1219),s=t(5720),u={__name:"RegisterView",setup(e){const l=(0,n.KR)([]),t=(0,n.KR)([]),u=(0,n.KR)(null),i=()=>{if(0===l.value.length)return void o.nk.warning("请选择文件");let e=new FormData;l.value.forEach(l=>{e.append("files",l.raw)}),s.A.post("/file",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{o.nk.success("文件上传成功"),l.value=[],g()}).catch(e=>{o.nk.error("文件上传失败",e.msg)})},r=(e,t)=>{l.value=t,console.log("移除文件列表时的钩子",e)},c=e=>{console.log("点击某个文件时的钩子",e)},p=(e,t)=>{l.value=t,console.log("添加到上传列表时的钩子",e)},f=()=>{o.nk.warning("文件超出3个"),console.log("文件超出个数限制时的钩子")},g=()=>{s.A.get("/filelist").then(e=>{t.value=e.data,console.log("获取图片列表成功")}).catch(e=>{o.nk.error("获取图片列表失败")})};return(0,a.sV)(()=>{g()}),(e,n)=>{const o=(0,a.g2)("el-button"),s=(0,a.g2)("el-upload"),g=(0,a.g2)("el-image"),k=(0,a.g2)("el-col"),d=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(s,{multiple:"",limit:3,class:"file-box",ref_key:"upload",ref:u,action:"http://localhost:8088/file","on-preview":c,"on-remove":r,"on-change":p,"on-exceed":f,"file-list":l.value,"list-type":"picture","auto-upload":!1},{trigger:(0,a.k6)(()=>[(0,a.bF)(o,{size:"small",type:"primary"},{default:(0,a.k6)(()=>n[0]||(n[0]=[(0,a.eW)("选取文件",-1)])),_:1,__:[0]})]),tip:(0,a.k6)(()=>n[2]||(n[2]=[(0,a.Lk)("div",{class:"el-upload__tip"},"只能上传jpg/png文件，且不超过500kb",-1)])),default:(0,a.k6)(()=>[(0,a.bF)(o,{style:{"margin-left":"10px"},size:"small",type:"success",onClick:i},{default:(0,a.k6)(()=>n[1]||(n[1]=[(0,a.eW)("上传到服务器",-1)])),_:1,__:[1]})]),_:1},8,["file-list"]),(0,a.bF)(d,{gutter:20},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,e=>((0,a.uX)(),(0,a.Wv)(k,{span:6,key:e},{default:(0,a.k6)(()=>[(0,a.bF)(g,{style:{width:"100px",height:"100px"},src:e,fit:"fill"},null,8,["src"])]),_:2},1024))),128))]),_:1})])}}},i=t(1241);const r=(0,i.A)(u,[["__scopeId","data-v-6b47fcb3"]]);var c=r}}]);
//# sourceMappingURL=64.7ad38ead.js.map