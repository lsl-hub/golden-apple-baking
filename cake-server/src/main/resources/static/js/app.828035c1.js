(function(){"use strict";var e={798:function(e,a,l){l.d(a,{k:function(){return d}});var t=l(2261),s=l(144);const d=(0,t.nY)("user",()=>{const e=(0,s.KR)(localStorage.getItem("token")||""),a=(0,s.KR)(JSON.parse(localStorage.getItem("userInfo")||"null")),l=l=>{e.value=l.token,a.value=l.userInfo,localStorage.setItem("token",l.token),localStorage.setItem("userInfo",JSON.stringify(l.userInfo))},t=()=>{e.value="",a.value=null,localStorage.removeItem("token"),localStorage.removeItem("userInfo")};return{token:e,userInfo:a,setUser:l,clearUser:t}})},842:function(e,a,l){l.d(a,{$i:function(){return c},Cg:function(){return o},MN:function(){return r},Z5:function(){return n},id:function(){return i},mE:function(){return d},s9:function(){return s}});var t=l(5720);function s(e){return(0,t.A)({url:"/cakes/list",method:"get",params:e})}function d(e){return(0,t.A)({url:"/cakes/add",method:"post",data:e,headers:{"Content-Type":"application/json;charset=utf-8"}})}function n(e){return(0,t.A)({url:`/cakes/get/${e}`,method:"get"})}function o(e){return(0,t.A)({url:"/cakes/update",method:"put",data:e,headers:{"Content-Type":"application/json;charset=utf-8"}})}function i(e){return(0,t.A)({url:`/cakes/delete/${e}`,method:"delete"})}function c(){return(0,t.A)({url:"/cakes/taste/list",method:"get"})}function r(e,a){return(0,t.A)({url:`/update/${e}`,method:"post",data:a})}},1543:function(e,a,l){l.d(a,{x:function(){return d}});l(4114),l(8111),l(2489),l(116),l(8237);var t=l(2261),s=l(5844);const d=(0,t.nY)("cart",{state:()=>({items:[]}),actions:{async loadCart(){try{const e=await(0,s.je)();this.items=e.data,console.log("购物车：",this.items)}catch(e){console.error("加载购物车失败",e)}},async addItem(e){await this.loadCart();const a=this.items.find(a=>a.productId===e.productId&&a.number===e.number);a?(a.num+=e.num,e.num=a.num):this.items.push({...e});try{await(0,s.bE)(e)}catch(l){console.error("同步到服务器失败")}},removeItem(e){this.items=this.items.filter(a=>a.id!==e)},clearCart(){this.items=[]}},getters:{totalItems:e=>e.items.reduce((e,a)=>e+a.quantity,0),totalPrice:e=>e.items.reduce((e,a)=>e+a.price*a.quantity,0)}})},1671:function(e,a,l){l.d(a,{A:function(){return ys}});var t=l(1387),s=(l(4114),l(6768)),d=l(4232),n=l(144),o=l(1219),i=l(5720);function c(){return(0,i.A)({url:"/home/getCategoryRankings",method:"get"})}var r=l(5322);const u={class:"home-view"},v=["src","alt"],p={class:"banner-content"},m={class:"banner-title"},k={class:"banner-subtitle"},f={key:0,class:"ranking-section"},b={class:"section-title"},g={class:"ranking-list"},h={class:"podium-container"},_={class:"ranking-podium"},y=["onClick"],w={class:"product-image-wrapper"},F=["src"],L={class:"product-info"},C={class:"price"},V={class:"sales"},R=["onClick"],x={class:"product-image-wrapper"},W=["src"],A={class:"product-info"},E={class:"price"},I={class:"sales"},K=["onClick"],X={class:"product-image-wrapper"},N=["src"],S={class:"product-info"},U={class:"price"},j={class:"sales"},q={key:1,class:"section"};var P={__name:"HomeView",setup(e){const a=(0,t.rd)(),l=(0,n.KR)([{title:"金色盛宴 尊享体验",subtitle:"每一口都是奢华的享受",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/8d45ff2e-48bd-4f25-8c1b-732f9bcdac51.jpg"},{title:"奢华品味 金色时光",subtitle:"精选优质原料 匠心制作",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/2666eaa3-a09b-4647-9617-d88e5f110159.jpg"},{title:"幸福滋味 甜蜜分享",subtitle:"让每一刻都充满甜蜜的惊喜",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/4e49d436-042d-47fc-8f00-170d323283b7.jpg"}]),i=(0,n.KR)([]),P=(0,n.KR)([]),z=(0,n.KR)(!1),D=e=>{a.push(`/cake/${e}`)},T=async()=>{try{z.value=!0;const e=await c();P.value=e.data,console.log("排行榜数据:",P.value),i.value=[]}catch(e){console.error("数据加载失败:",e),o.nk.error("数据加载失败")}finally{z.value=!1}};return(0,s.sV)(T),(e,a)=>{const t=(0,s.g2)("el-carousel-item"),n=(0,s.g2)("el-carousel"),o=(0,s.g2)("el-col"),c=(0,s.g2)("el-row");return(0,s.uX)(),(0,s.CE)("div",u,[(0,s.bF)(n,{"indicator-position":"outside",height:"400px",class:"golden-carousel"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,(e,l)=>((0,s.uX)(),(0,s.Wv)(t,{key:l},{default:(0,s.k6)(()=>[a[1]||(a[1]=(0,s.Lk)("div",{class:"banner-overlay"},null,-1)),(0,s.Lk)("img",{src:e.image,class:"banner-image",alt:e.title},null,8,v),(0,s.Lk)("div",p,[(0,s.Lk)("h2",m,(0,d.v_)(e.title),1),(0,s.Lk)("p",k,(0,d.v_)(e.subtitle),1),a[0]||(a[0]=(0,s.Lk)("div",{class:"floating-stars"},[(0,s.Lk)("span",{class:"star"},"✦"),(0,s.Lk)("span",{class:"star"},"✦"),(0,s.Lk)("span",{class:"star"},"✦")],-1))])]),_:2,__:[1]},1024))),128))]),_:1}),P.value.length>0?((0,s.uX)(),(0,s.CE)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.value,e=>((0,s.uX)(),(0,s.CE)("div",{class:"category-ranking",key:e.categoryId},[(0,s.Lk)("div",b,[a[4]||(a[4]=(0,s.Lk)("span",{class:"line"},null,-1)),(0,s.Lk)("h2",null,[a[2]||(a[2]=(0,s.Lk)("span",{class:"icon-crown"},"👑",-1)),(0,s.eW)(" "+(0,d.v_)(e.categoryName)+"排行榜 ",1),a[3]||(a[3]=(0,s.Lk)("span",{class:"icon-crown"},"👑",-1))]),a[5]||(a[5]=(0,s.Lk)("span",{class:"line"},null,-1))]),(0,s.Lk)("div",g,[(0,s.Lk)("div",h,[a[15]||(a[15]=(0,s.Fv)('<div class="ribbon-bg" data-v-4860960a></div><div class="podium-base" data-v-4860960a><div class="podium-step step-2" data-v-4860960a></div><div class="podium-step step-1" data-v-4860960a></div><div class="podium-step step-3" data-v-4860960a></div></div>',2)),(0,s.Lk)("div",_,[e.products[1]?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"ranking-item rank-2",onClick:a=>D(e.products[1].id)},[a[7]||(a[7]=(0,s.Fv)('<div class="rank-decoration" data-v-4860960a><div class="medal-ribbon" data-v-4860960a></div></div><div class="rank-badge" data-v-4860960a><div class="rank-number" data-v-4860960a>2</div><div class="rank-label" data-v-4860960a>亚军</div></div>',2)),(0,s.Lk)("div",w,[(0,s.Lk)("img",{src:e.products[1].image,alt:"",class:"product-image"},null,8,F),a[6]||(a[6]=(0,s.Lk)("div",{class:"image-glow"},null,-1))]),(0,s.Lk)("div",L,[(0,s.Lk)("h4",null,(0,d.v_)(e.products[1].name),1),(0,s.Lk)("p",C,"¥"+(0,d.v_)(e.products[1].price),1),(0,s.Lk)("p",V,"已售 "+(0,d.v_)(e.products[1].salesCount)+" 件",1)]),a[8]||(a[8]=(0,s.Lk)("div",{class:"rank-ornament"},[(0,s.Lk)("div",{class:"ornament-leaf"},"🍃")],-1))],8,y)):(0,s.Q3)("",!0),e.products[0]?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"ranking-item rank-1",onClick:a=>D(e.products[0].id)},[a[10]||(a[10]=(0,s.Fv)('<div class="rank-decoration" data-v-4860960a><div class="crown-ribbon" data-v-4860960a>冠军</div><div class="spotlight" data-v-4860960a></div></div><div class="rank-badge" data-v-4860960a><div class="crown-icon" data-v-4860960a><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-4860960a><path d="M12 2L15 8L21 9L17 14L18 21L12 18L6 21L7 14L3 9L9 8L12 2Z" fill="#d6bb70" stroke="#b38b2d" stroke-width="1.5" data-v-4860960a></path></svg></div><div class="rank-number" data-v-4860960a>1</div><div class="rank-label" data-v-4860960a>冠军</div></div>',2)),(0,s.Lk)("div",x,[(0,s.Lk)("img",{src:e.products[0].image,alt:"",class:"product-image"},null,8,W),a[9]||(a[9]=(0,s.Lk)("div",{class:"image-glow"},null,-1))]),(0,s.Lk)("div",A,[(0,s.Lk)("h4",null,(0,d.v_)(e.products[0].name),1),(0,s.Lk)("p",E,"¥"+(0,d.v_)(e.products[0].price),1),(0,s.Lk)("p",I,"已售 "+(0,d.v_)(e.products[0].salesCount)+" 件",1)]),a[11]||(a[11]=(0,s.Fv)('<div class="rank-ornament" data-v-4860960a><div class="ornament-star" data-v-4860960a>✦</div></div><div class="sparkle s1" data-v-4860960a></div><div class="sparkle s2" data-v-4860960a></div><div class="sparkle s3" data-v-4860960a></div>',4))],8,R)):(0,s.Q3)("",!0),e.products[2]?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"ranking-item rank-3",onClick:a=>D(e.products[2].id)},[a[13]||(a[13]=(0,s.Fv)('<div class="rank-decoration" data-v-4860960a><div class="medal-ribbon" data-v-4860960a></div></div><div class="rank-badge" data-v-4860960a><div class="rank-number" data-v-4860960a>3</div><div class="rank-label" data-v-4860960a>季军</div></div>',2)),(0,s.Lk)("div",X,[(0,s.Lk)("img",{src:e.products[2].image,alt:"",class:"product-image"},null,8,N),a[12]||(a[12]=(0,s.Lk)("div",{class:"image-glow"},null,-1))]),(0,s.Lk)("div",S,[(0,s.Lk)("h4",null,(0,d.v_)(e.products[2].name),1),(0,s.Lk)("p",U,"¥"+(0,d.v_)(e.products[2].price),1),(0,s.Lk)("p",j,"已售 "+(0,d.v_)(e.products[2].salesCount)+" 件",1)]),a[14]||(a[14]=(0,s.Lk)("div",{class:"rank-ornament"},[(0,s.Lk)("div",{class:"ornament-leaf"},"🍃")],-1))],8,K)):(0,s.Q3)("",!0)])])])]))),128))])):(0,s.Q3)("",!0),i.value.length>0?((0,s.uX)(),(0,s.CE)("div",q,[a[16]||(a[16]=(0,s.Fv)('<div class="section-title" data-v-4860960a><span class="line" data-v-4860960a></span><h2 data-v-4860960a><span class="icon-star" data-v-4860960a>⭐</span> 热门推荐 <span class="icon-star" data-v-4860960a>⭐</span></h2><span class="line" data-v-4860960a></span></div>',1)),(0,s.bF)(c,{gutter:20},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.value,e=>((0,s.uX)(),(0,s.Wv)(o,{key:e.id,span:6},{default:(0,s.k6)(()=>[(0,s.bF)(r.A,{product:e},null,8,["product"])]),_:2},1024))),128))]),_:1})])):(0,s.Q3)("",!0),a[17]||(a[17]=(0,s.Fv)('<div class="golden-elements" data-v-4860960a><div class="floating-element e1" data-v-4860960a>✦</div><div class="floating-element e2" data-v-4860960a>✨</div><div class="floating-element e3" data-v-4860960a>🌟</div><div class="floating-element e4" data-v-4860960a>💫</div><div class="floating-element e5" data-v-4860960a>⭐</div><div class="floating-element e6" data-v-4860960a>🔶</div></div>',1))])}}},z=l(1241);const D=(0,z.A)(P,[["__scopeId","data-v-4860960a"]]);var T=D,Q=l(798),B=(l(8111),l(1701),l(5130)),M=l(7477),G=l(2933),J=l(5320);function O(e){return(0,i.A)({url:"/desserts/list",method:"get",params:e})}function H(e){return(0,i.A)({url:"/desserts/update",method:"post",data:e})}function $(e){return(0,i.A)({url:"/desserts/add",method:"put",data:e})}function Y(e){return(0,i.A)({url:`/desserts/delete/${e}`,method:"delete"})}const Z={class:"sweet-rate-container"},ee={class:"specs-container"},ae={class:"spec-row"},le={class:"spec-field"},te={class:"spec-field"},se={class:"spec-row"},de={class:"spec-field"},ne={class:"spec-field"},oe={class:"upload-content"},ie={key:0,class:"preview-wrapper"},ce=["src"],re={class:"preview-overlay"};var ue={__name:"DessertForm",props:{modelValue:{type:Object,required:!0},uploadHeaders:{type:Object,default:()=>({})}},emits:["update:modelValue","upload-success","remove-image"],setup(e,{expose:a,emit:l}){const t=e,d=l,i=(0,Q.k)(),c=(0,s.EW)(()=>({token:i.token||""})),r=(0,s.EW)({get:()=>t.modelValue,set:e=>d("update:modelValue",e)}),u=e=>e?e.startsWith("http")?e:`${e}`:"",v=e=>{const a=e.type.startsWith("image/"),l=e.size/1024/1024<2;return a?!!l||(o.nk.error("图片大小不能超过 2MB!"),!1):(o.nk.error("只能上传图片文件!"),!1)},p=e=>{200===e.code?(o.nk.success("图片上传成功"),d("upload-success",e.data)):o.nk.error(e.message||"上传失败")},m=()=>{o.nk.error("上传失败，请重试")},k=()=>{d("remove-image")},f={name:[{required:!0,message:"请输入甜品名称",trigger:"blur"}],image:[{required:!0,message:"请上传甜品图片",trigger:"change"}],specs:{validator:(e,a,l)=>{a&&0!==a.length?l():l(new Error("至少需要添加一个规格"))},trigger:"blur"}};a({validate:()=>b.value.validate(),resetFields:()=>b.value.resetFields(),clearValidate:()=>b.value.clearValidate()});const b=(0,n.KR)(null);return(e,a)=>{const l=(0,s.g2)("el-input"),t=(0,s.g2)("el-form-item"),d=(0,s.g2)("el-rate"),o=(0,s.g2)("el-input-number"),i=(0,s.g2)("el-icon"),g=(0,s.g2)("el-upload"),h=(0,s.g2)("el-button"),_=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.Wv)(_,{ref_key:"formRef",ref:b,model:r.value,rules:f,"label-width":"100px","label-position":"top",class:"dessert-form"},{default:(0,s.k6)(()=>[(0,s.bF)(t,{label:"甜品名称",prop:"name",class:"form-item"},{default:(0,s.k6)(()=>[(0,s.bF)(l,{modelValue:r.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value.name=e),placeholder:"请输入甜品名称",clearable:"",class:"custom-input"},null,8,["modelValue"])]),_:1}),(0,s.bF)(t,{label:"甜度",class:"form-item"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Z,[(0,s.bF)(d,{modelValue:r.value.sweet,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value.sweet=e),max:5,"show-score":"","allow-half":"",colors:["#e8e2d1","#d6bb70","#b38b2d"],"score-template":"{value} 分"},null,8,["modelValue"])])]),_:1}),(0,s.bF)(t,{label:"甜品描述",class:"form-item"},{default:(0,s.k6)(()=>[(0,s.bF)(l,{modelValue:r.value.description,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value.description=e),type:"textarea",rows:3,placeholder:"请输入甜品描述",maxlength:"200","show-word-limit":"",class:"custom-textarea"},null,8,["modelValue"])]),_:1}),(0,s.bF)(t,{label:"尺寸规格",prop:"specs",class:"form-item"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",ee,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value.specs,(e,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l,class:"spec-item"},[(0,s.Lk)("div",ae,[(0,s.Lk)("div",le,[a[3]||(a[3]=(0,s.Lk)("label",{class:"spec-label"},"价格(元)",-1)),(0,s.bF)(o,{modelValue:e.price,"onUpdate:modelValue":a=>e.price=a,min:0,precision:2,"controls-position":"right",class:"spec-input"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s.Lk)("div",te,[a[4]||(a[4]=(0,s.Lk)("label",{class:"spec-label"},"重量(g)",-1)),(0,s.bF)(o,{modelValue:e.weight,"onUpdate:modelValue":a=>e.weight=a,min:0,"controls-position":"right",class:"spec-input"},null,8,["modelValue","onUpdate:modelValue"])])]),(0,s.Lk)("div",se,[(0,s.Lk)("div",de,[a[5]||(a[5]=(0,s.Lk)("label",{class:"spec-label"},"长度(cm)",-1)),(0,s.bF)(o,{modelValue:e.length,"onUpdate:modelValue":a=>e.length=a,min:0,"controls-position":"right",class:"spec-input"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s.Lk)("div",ne,[a[6]||(a[6]=(0,s.Lk)("label",{class:"spec-label"},"宽度(cm)",-1)),(0,s.bF)(o,{modelValue:e.width,"onUpdate:modelValue":a=>e.width=a,min:0,"controls-position":"right",class:"spec-input"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])]),_:1}),(0,s.bF)(t,{label:"甜品图片",prop:"image",class:"form-item"},{default:(0,s.k6)(()=>[(0,s.bF)(g,{class:"upload-area",action:"/api/common/upload",headers:c.value,"before-upload":v,"on-success":p,"on-error":m,"show-file-list":!1},{default:(0,s.k6)(()=>[(0,s.Lk)("div",oe,[(0,s.bF)(i,{class:"upload-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M._OO))]),_:1}),a[7]||(a[7]=(0,s.Lk)("div",{class:"upload-text"},"点击上传甜品图片",-1)),a[8]||(a[8]=(0,s.Lk)("div",{class:"upload-tip"},"建议尺寸：800x800px，支持 JPG/PNG 格式",-1))])]),_:1},8,["headers"]),r.value.image?((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("img",{src:u(r.value.image),class:"preview-image",alt:"甜品预览"},null,8,ce),(0,s.Lk)("div",re,[(0,s.bF)(h,{type:"danger",circle:"",size:"small",icon:(0,n.R1)(M.bm),class:"delete-btn",onClick:k},null,8,["icon"])])])):(0,s.Q3)("",!0)]),_:1})]),_:1},8,["model"])}}};const ve=(0,z.A)(ue,[["__scopeId","data-v-11c7db77"]]);var pe=ve;const me={class:"dessert-container"},ke={class:"banner-section"},fe=["src"],be={class:"banner-overlay"},ge={class:"banner-text"},he={class:"dessert-section"},_e={key:0,class:"loading-container"},ye={key:1,class:"cake-list"},we={class:"add-card-content"};var Fe={__name:"DessertView",setup(e){const a=(0,n.KR)([{title:"金色奢华 甜蜜盛宴",subtitle:"精选顶级原料，匠心制作",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/911fff0a-0151-42dd-ba7e-2f82e277b91f.jpg"},{title:"精选原料 品质保证",subtitle:"严选全球优质食材，只为极致口感",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/2b5e0020-f5be-4611-bf47-bbd875979e13.jpg"},{title:"贵族享受 品质之选",subtitle:"全国冷链配送，新鲜直达",image:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/2b628d88-6ace-4ae0-8ebe-23bdbfa26c76.jpg"}]),l=(0,n.KR)(null),t=(0,n.KR)([]),i=(0,n.KR)(!1),c=(0,Q.k)(),u=(0,s.EW)(()=>({token:`${c.token}`})),v=()=>{Object.assign(h,{id:null,name:"",tasteId:null,categoryId:null,image:"",sweet:3,description:"",specs:[]}),(0,s.dY)(()=>{l.value&&l.value.clearValidate()})},p=e=>{Object.assign(h,{id:e.id,name:e.name,tasteId:e.tasteId,categoryId:e.categoryId,image:e.image,sweet:e.sweet,description:e.description,specs:e.specs.map(e=>({id:e.id,number:e.number,price:e.price,length:e.length,width:e.width,weight:e.weight}))}),g.value=!0,b.value=!0},m=e=>{ys.push(`/cake/${e}`)},k=()=>{g.value=!1,v(),b.value=!0,0===h.specs.length&&F()},f=async e=>{try{await G.s.confirm("确定要删除这个甜品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const a=J.Ks.service({lock:!0,text:"正在删除...",background:"rgba(255, 255, 255, 0.7)"});try{await Y(e),o.nk.success("删除成功"),1===t.value.length&&_.pageNum>1&&(_.pageNum-=1),await y()}finally{a.close()}}catch(a){"cancel"!==a&&(o.nk.error("删除失败"),console.error(a))}},b=(0,n.KR)(!1);(0,s.wB)(b,e=>{e&&(0,s.dY)(()=>{const e=document.querySelector(".el-dialog__body");e&&(e.scrollTop=0)})});const g=(0,n.KR)(!1),h=(0,n.Kh)({id:null,name:"",tasteId:null,categoryId:null,image:"",sweet:3,description:"",specs:[]}),_=(0,n.Kh)({pageNum:1,pageSize:8,total:0}),y=async()=>{try{const e={pageNum:_.pageNum,pageSize:_.pageSize},a=await O(e);t.value=a.data.records,console.log("甜品信息：",t.value),_.total=a.data.total}catch(e){console.error("加载甜品失败:",e)}},w=async()=>{try{await l.value.validate();const e=J.Ks.service({lock:!0,text:"正在保存...",background:"rgba(255, 255, 255, 0.7)"});try{const e={...h,specs:h.specs.map(e=>({...e,price:Number(e.price),length:Number(e.length),width:Number(e.width),weight:Number(e.weight)}))};g.value?(await H(e),o.nk.success("更新成功")):(await $(e),o.nk.success("添加成功")),b.value=!1,await y()}finally{e.close()}}catch(e){o.nk.error(e.message||"操作失败")}},F=()=>{h.specs.push({id:null,productId:null,number:"",price:0,length:null,width:null,weight:null})};return(0,s.sV)(()=>{y()}),(e,o)=>{const c=(0,s.g2)("el-carousel-item"),_=(0,s.g2)("el-carousel"),y=(0,s.g2)("el-skeleton"),F=(0,s.g2)("el-button"),L=(0,s.g2)("el-col"),C=(0,s.g2)("el-row"),V=(0,s.g2)("el-empty"),R=(0,s.g2)("el-icon"),x=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.CE)("div",me,[(0,s.Lk)("div",ke,[(0,s.bF)(_,{height:"400px","indicator-position":"outside",arrow:"always"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,(e,a)=>((0,s.uX)(),(0,s.Wv)(c,{key:a},{default:(0,s.k6)(()=>[(0,s.Lk)("img",{src:e.image,class:"banner-image"},null,8,fe),(0,s.Lk)("div",be,[(0,s.Lk)("div",ge,[(0,s.Lk)("h2",null,(0,d.v_)(e.title),1),(0,s.Lk)("p",null,(0,d.v_)(e.subtitle),1)])])]),_:2},1024))),128))]),_:1})]),(0,s.Lk)("div",he,[o[9]||(o[9]=(0,s.Fv)('<div class="section-header" data-v-ddec52da><div class="title-wrapper" data-v-ddec52da><h2 class="section-title" data-v-ddec52da>精选甜品</h2><div class="title-decoration" data-v-ddec52da><span class="decoration-line" data-v-ddec52da></span><i class="decoration-icon" data-v-ddec52da>✨</i><span class="decoration-line" data-v-ddec52da></span></div><p class="section-subtitle" data-v-ddec52da>每一口都是奢华的享受</p></div></div>',1)),i.value?((0,s.uX)(),(0,s.CE)("div",_e,[(0,s.bF)(y,{rows:6,animated:""})])):((0,s.uX)(),(0,s.CE)("div",ye,[(0,s.bF)(C,{gutter:24},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.value,e=>((0,s.uX)(),(0,s.Wv)(L,{key:e.id,xs:24,sm:12,md:8,lg:6},{default:(0,s.k6)(()=>[(0,s.bF)(r.A,{cake:e,onClick:a=>m(e.id)},{actions:(0,s.k6)(()=>[(0,s.bF)(F,{size:"mini",type:"danger",class:"delete-btn",onClick:(0,B.D$)(a=>f(e.id),["stop"])},{default:(0,s.k6)(()=>o[5]||(o[5]=[(0,s.eW)(" 删除 ",-1)])),_:2,__:[5]},1032,["onClick"]),(0,s.bF)(F,{size:"mini",class:"edit-btn",onClick:(0,B.D$)(a=>p(e),["stop"])},{default:(0,s.k6)(()=>o[6]||(o[6]=[(0,s.eW)(" 编辑 ",-1)])),_:2,__:[6]},1032,["onClick"])]),_:2},1032,["cake","onClick"])]),_:2},1024))),128))]),_:1}),0===t.value.length?((0,s.uX)(),(0,s.Wv)(V,{key:0,description:"暂无蛋糕商品"})):(0,s.Q3)("",!0)])),(0,s.Lk)("div",{class:"dessert-card add-card",onClick:k},[(0,s.Lk)("div",we,[(0,s.bF)(R,{class:"add-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.FWt))]),_:1}),o[7]||(o[7]=(0,s.Lk)("span",{class:"add-text"},"添加新甜品",-1)),o[8]||(o[8]=(0,s.Lk)("p",{class:"add-tip"},"打造您的专属甜品",-1))])])]),(0,s.bF)(x,{modelValue:b.value,"onUpdate:modelValue":o[4]||(o[4]=e=>b.value=e),title:g.value?"编辑甜品":"添加新甜品",width:"600px","destroy-on-close":"",modal:!1,"lock-scroll":!1,"append-to-body":!0,class:"golden-dialog",onClosed:v},{footer:(0,s.k6)(()=>[(0,s.bF)(F,{onClick:o[3]||(o[3]=e=>b.value=!1),class:"cancel-btn"},{default:(0,s.k6)(()=>o[10]||(o[10]=[(0,s.eW)("取消",-1)])),_:1,__:[10]}),(0,s.bF)(F,{type:"primary",onClick:w,loading:e.submitting,class:"confirm-btn"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(g.value?"保存修改":"确认添加"),1)]),_:1},8,["loading"])]),default:(0,s.k6)(()=>[(0,s.bF)(pe,{ref_key:"dessertFormRef",ref:l,modelValue:h,"onUpdate:modelValue":o[0]||(o[0]=e=>h=e),"upload-headers":u.value,onUploadSuccess:o[1]||(o[1]=e=>h.image=e),onRemoveImage:o[2]||(o[2]=()=>h.image="")},null,8,["modelValue","upload-headers"])]),_:1},8,["modelValue","title"])])}}};const Le=(0,z.A)(Fe,[["__scopeId","data-v-ddec52da"]]);var Ce=Le;const Ve={class:"form-section"},Re={class:"form-section"},xe={class:"table-container"},We={class:"form-section"},Ae={key:0,class:"image-preview"},Ee=["src"];var Ie={__name:"PetCakeForm",props:{isEdit:Boolean,initialData:Object},emits:["submit","cancel"],setup(e,{expose:a,emit:l}){const t=e,d=l,i=(0,Q.k)(),c=(0,n.KR)(null),r=(0,n.KR)({name:"",image:"",description:"",specs:[{number:"",price:98,weight:300}]}),u={required:!0,message:"此项不能为空",trigger:"blur"},v={required:!0,message:"重量必须大于100g",trigger:"blur"},p={name:[{required:!0,message:"请输入蛋糕名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入描述信息",trigger:"blur"}],image:[{required:!0,message:"请上传封面图片",trigger:"change"}]},m=(0,s.EW)(()=>({token:i.token})),k=e=>!(e.size/1024/1024>2)||(o.nk.error("图片不能超过2MB"),!1),f=e=>{200===e.code&&(r.value.image=e.data,o.nk.success("上传成功"))},b=e=>{r.value.specs.length>1&&r.value.specs.splice(e,1)},g=()=>{c.value.validate(e=>{e?d("submit",{...r.value}):o.nk.error("请检查表单填写是否完整、正确！")})};(0,s.wB)(()=>t.initialData,e=>{e&&(r.value={...e},r.value.specs&&0!==r.value.specs.length||(r.value.specs=[{number:"",price:98,weight:300}]))},{immediate:!0,deep:!0});const h=e=>{r.value={...e}};return a({setFormData:h}),(e,a)=>{const l=(0,s.g2)("el-input"),t=(0,s.g2)("el-form-item"),n=(0,s.g2)("el-table-column"),o=(0,s.g2)("el-input-number"),i=(0,s.g2)("el-button"),h=(0,s.g2)("el-table"),_=(0,s.g2)("el-upload"),y=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.Wv)(y,{ref_key:"formRef",ref:c,model:r.value,rules:p,"label-width":"100px",class:"pet-cake-form"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Ve,[a[4]||(a[4]=(0,s.Lk)("div",{class:"section-title"},"宠物蛋糕信息",-1)),(0,s.bF)(t,{label:"宠物蛋糕名称",prop:"name",required:""},{default:(0,s.k6)(()=>[(0,s.bF)(l,{modelValue:r.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value.name=e),placeholder:"例如：狗狗生日蛋糕"},null,8,["modelValue"])]),_:1}),(0,s.bF)(t,{label:"宠物蛋糕描述",prop:"description",required:""},{default:(0,s.k6)(()=>[(0,s.bF)(l,{modelValue:r.value.description,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value.description=e),type:"textarea",rows:4,placeholder:"请输入宠物蛋糕的详细描述，如适用宠物类型、口味、特点等（例如：低脂鸡肉配方，适合减肥期狗狗）"},null,8,["modelValue"])]),_:1})]),(0,s.Lk)("div",Re,[a[5]||(a[5]=(0,s.Lk)("div",{class:"section-title"},"商品规格",-1)),(0,s.Lk)("div",xe,[(0,s.bF)(h,{data:r.value.specs,border:"",style:{width:"100%"}},{default:(0,s.k6)(()=>[(0,s.bF)(n,{label:"规格描述",width:"200"},{default:(0,s.k6)(({row:e,$index:a})=>[(0,s.bF)(t,{prop:`specs.${a}.number`,rules:u},{default:(0,s.k6)(()=>[(0,s.bF)(l,{modelValue:e.number,"onUpdate:modelValue":a=>e.number=a,placeholder:"如：一个"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,s.bF)(n,{label:"价格(元)"},{default:(0,s.k6)(({row:e,$index:a})=>[(0,s.bF)(t,{prop:`specs.${a}.price`,rules:u},{default:(0,s.k6)(()=>[(0,s.bF)(o,{modelValue:e.price,"onUpdate:modelValue":a=>e.price=a,min:0,precision:2,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,s.bF)(n,{label:"重量(g)"},{default:(0,s.k6)(({row:e,$index:a})=>[(0,s.bF)(t,{prop:`specs.${a}.weight`,rules:v},{default:(0,s.k6)(()=>[(0,s.bF)(o,{modelValue:e.weight,"onUpdate:modelValue":a=>e.weight=a,min:100,step:50,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,s.bF)(n,{label:"操作",width:"100",align:"center"},{default:(0,s.k6)(({$index:e})=>[r.value.specs.length>1?((0,s.uX)(),(0,s.Wv)(i,{key:0,type:"danger",size:"small",icon:"Delete",circle:"",onClick:a=>b(e)},null,8,["onClick"])):(0,s.Q3)("",!0)]),_:1})]),_:1},8,["data"])])]),(0,s.Lk)("div",We,[a[8]||(a[8]=(0,s.Lk)("div",{class:"section-title"},"宠物蛋糕图片",-1)),(0,s.bF)(t,{label:"封面图片",prop:"image"},{default:(0,s.k6)(()=>[(0,s.bF)(_,{action:"/api/common/upload",headers:m.value,data:{type:"pet_cake"},"on-success":f,"before-upload":k,"show-file-list":!1,accept:"image/*"},{default:(0,s.k6)(()=>[(0,s.bF)(i,{type:"primary"},{default:(0,s.k6)(()=>a[6]||(a[6]=[(0,s.eW)("点击上传图片",-1)])),_:1,__:[6]})]),_:1},8,["headers"]),r.value.image?((0,s.uX)(),(0,s.CE)("div",Ae,[(0,s.Lk)("img",{src:r.value.image,alt:"预览",style:{height:"100px","margin-top":"10px"}},null,8,Ee),(0,s.bF)(i,{size:"small",type:"danger",onClick:a[2]||(a[2]=e=>r.value.image=null)},{default:(0,s.k6)(()=>a[7]||(a[7]=[(0,s.eW)("删除",-1)])),_:1,__:[7]})])):(0,s.Q3)("",!0)]),_:1})]),(0,s.bF)(t,null,{default:(0,s.k6)(()=>[(0,s.bF)(i,{type:"primary",onClick:g},{default:(0,s.k6)(()=>a[9]||(a[9]=[(0,s.eW)("提交",-1)])),_:1,__:[9]}),(0,s.bF)(i,{onClick:a[3]||(a[3]=e=>d("cancel"))},{default:(0,s.k6)(()=>a[10]||(a[10]=[(0,s.eW)("取消",-1)])),_:1,__:[10]})]),_:1})]),_:1},8,["model"])}}};const Ke=(0,z.A)(Ie,[["__scopeId","data-v-246b12ff"]]);var Xe=Ke;function Ne(e){return(0,i.A)({url:"/pet/pageQuery",method:"get",params:e})}function Se(e){return(0,i.A)({url:`/pet/get/${e}`,method:"get"})}function Ue(e){return(0,i.A)({url:"/pet/add",method:"put",data:e})}function je(e){return(0,i.A)({url:"/pet/update",method:"post",data:e})}function qe(e,a){return(0,i.A)({url:`/update/${e}`,method:"post",data:a})}function Pe(e){return(0,i.A)({url:`/pet/delete/${e}`,method:"delete"})}const ze={class:"pet-cakes-page"},De={class:"cake-list"},Te={class:"add-card-content"};var Qe={__name:"PetCakeView",setup(e){const a=(0,n.KR)([]),l=(0,n.KR)(!1),t=(0,n.KR)({pageNum:1,pageSize:10,total:0}),i=(0,n.KR)(!1),c=(0,n.KR)(null),u=(0,n.KR)(null),v=(0,n.KR)(!1),p=(0,n.KR)(null),m=(0,n.KR)(!1),k=(0,n.KR)(!1),f=(0,n.KR)(5),b=()=>"true"===sessionStorage.getItem("petCakeWarningShown"),g=()=>{sessionStorage.setItem("petCakeWarningShown","true")};(0,s.sV)(async()=>{await y(),b()||h()});const h=()=>{m.value=!0,k.value=!1,f.value=5;const e=setInterval(()=>{f.value--,f.value<=0&&(k.value=!0,clearInterval(e))},1e3)},_=()=>{k.value&&(m.value=!1,g())},y=async()=>{l.value=!0;try{const e={pageNum:t.value.pageNum,pageSize:t.value.pageSize},l=await Ne(e);console.log("宠物蛋糕信息：",l),a.value=l.data.records||[],t.value.total=l.data.total||0}catch(e){console.error("数据加载失败:",e),o.nk.error("数据加载失败")}finally{l.value=!1}},w=e=>{ys.push(`/cake/${e}`)},F=async e=>{l.value=!0;try{i.value=!0;const a=await Se(e.id);c.value={...a.data},console.log("宠物蛋糕信息：",c.value),u.value=e.id,v.value=!0,await(0,s.dY)(()=>{p.value&&p.value.setFormData(c.value)})}catch(a){o.nk.error("获取蛋糕详情失败"),console.error(a)}finally{l.value=!1}},L=async e=>{try{const{specs:a,...l}=e,t=3;t&&(e.categoryId=t),console.log("分类id:",e.categoryId),i.value?(console.log("更新数据：",{...l,id:u.value}),await je({...l,id:u.value}),await qe(u.value,a),o.nk.success("宠物蛋糕更新成功")):(await Ue(e),o.nk.success("宠物蛋糕添加成功")),v.value=!1,await y()}catch(a){o.nk.error(i.value?"更新失败":"添加失败"),console.error(a)}},C=()=>{i.value=!1,v.value=!0,c.value=null,u.value=null},V=async e=>{try{await G.s.confirm("确定要删除这个宠物蛋糕吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await Pe(e),o.nk.success("删除成功"),1===a.value.length&&t.value.pageNum>1&&(t.value.pageNum-=1),y()}catch(l){o.nk.error("删除失败"),console.error(l)}};return(e,t)=>{const o=(0,s.g2)("el-button"),c=(0,s.g2)("el-col"),u=(0,s.g2)("el-row"),b=(0,s.g2)("el-empty"),g=(0,s.g2)("el-dialog"),h=(0,s.g2)("el-icon");return(0,s.uX)(),(0,s.CE)("div",ze,[t[8]||(t[8]=(0,s.Lk)("div",{class:"header-image"},[(0,s.Lk)("img",{src:"https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/2ac94332-a67e-47fa-af2d-cb90fbe985b1.jpg",alt:"Header Image",class:"header-img"})],-1)),(0,s.Lk)("div",De,[(0,s.bF)(u,{gutter:20},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,e=>((0,s.uX)(),(0,s.Wv)(c,{key:e.id,xs:24,sm:12,md:8,lg:6},{default:(0,s.k6)(()=>[(0,s.bF)(r.A,{cake:e,class:"cake-card",onClick:a=>w(e.id)},{actions:(0,s.k6)(()=>[(0,s.bF)(o,{size:"small",onClick:(0,B.D$)(a=>F(e),["stop"]),class:"edit-btn"},{default:(0,s.k6)(()=>t[3]||(t[3]=[(0,s.eW)("编辑",-1)])),_:2,__:[3]},1032,["onClick"]),(0,s.bF)(o,{size:"small",onClick:(0,B.D$)(a=>V(e.id),["stop"]),class:"delete-btn"},{default:(0,s.k6)(()=>t[4]||(t[4]=[(0,s.eW)("删除",-1)])),_:2,__:[4]},1032,["onClick"])]),_:2},1032,["cake","onClick"])]),_:2},1024))),128))]),_:1}),l.value&&0===a.value.length?((0,s.uX)(),(0,s.Wv)(b,{key:0,description:"加载中..."})):l.value||0!==a.value.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(b,{key:1,description:"暂无宠物蛋糕"}))]),(0,s.bF)(g,{title:i.value?"编辑宠物蛋糕":"新增宠物蛋糕",modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),width:"50%",onClosed:e.handleDialogClosed,class:"sweet-dialog"},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.Wv)(Xe,{ref_key:"petCakeForm",ref:p,key:i.value?"edit-form":"add-form","is-edit":i.value,"initial-data":e.currentCakeData,onSubmit:L,onCancel:t[0]||(t[0]=e=>v.value=!1)},null,8,["is-edit","initial-data"]))]),_:1},8,["title","modelValue","onClosed"]),(0,s.Lk)("div",{class:"dessert-card add-card",onClick:C},[(0,s.Lk)("div",Te,[(0,s.bF)(h,{class:"add-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.FWt))]),_:1}),t[5]||(t[5]=(0,s.Lk)("span",{class:"add-text"},"添加宠物蛋糕",-1)),t[6]||(t[6]=(0,s.Lk)("p",{class:"add-tip"},"打造您的专属宠物蛋糕",-1))])]),(0,s.bF)(g,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),"show-close":!1,"close-on-click-modal":!1,width:"90%","max-width":"400px",center:"",class:"sweet-warning-dialog"},{footer:(0,s.k6)(()=>[(0,s.bF)(o,{disabled:!k.value,onClick:_,class:"confirm-btn"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(k.value?"我知道了":`等待 ${f.value}s`),1)]),_:1},8,["disabled"])]),default:(0,s.k6)(()=>[t[7]||(t[7]=(0,s.Lk)("div",{class:"warning-content"},[(0,s.Lk)("div",{class:"warning-icon"},"🐾"),(0,s.Lk)("h3",{style:{color:"#d6bb70",margin:"10px 0"}},"温馨提示"),(0,s.Lk)("p",{style:{color:"#666","line-height":"1.6"}}," 这是一个专为宠物设计的蛋糕，关爱宠物，体现主人对宠物的爱。 "),(0,s.Lk)("p",{style:{"font-size":"14px",color:"#999","margin-top":"10px"}}," 请勿与人类食用蛋糕混淆 ")],-1))]),_:1,__:[7]},8,["modelValue"])])}}};const Be=(0,z.A)(Qe,[["__scopeId","data-v-2b29eb1a"]]);var Me=Be,Ge=(l(1148),l(2489),l(7588),l(8237),l(1543)),Je=l(5844);const Oe={class:"cart"},He=["onClick"],$e=["src"],Ye={class:"product-details"},Ze={class:"product-name"},ea={class:"product-number"},aa={class:"price-comparison"},la={key:0,class:"price-down"},ta={key:1,class:"price-up"},sa={key:2},da={class:"original-price"},na={class:"price-highlight"},oa={key:1,class:"empty-cart"},ia={key:2,class:"cart-footer"},ca={class:"footer-left"},ra={class:"footer-right"},ua={class:"total-price"},va={class:"total-price"},pa={class:"price-highlight"};var ma={__name:"ShoppingCart",setup(e){const a=(0,t.rd)(),l=(0,Ge.x)(),n=(0,s.EW)(()=>l.items),i=(0,s.EW)(()=>n.value.filter(e=>e.checked).reduce((e,a)=>e+a.amount*a.num,0).toFixed(2)),c=(0,s.EW)(()=>n.value.filter(e=>e.checked).length),r=()=>{a.push("/home")},u=(0,s.EW)({get:()=>n.value.length>0&&n.value.every(e=>e.checked),set:e=>{n.value.forEach(a=>{a.checked=e}),b()}});(0,s.sV)(async()=>{try{await l.loadCart(),n.value.forEach(e=>{void 0===e.checked&&(e.checked=!0)})}catch(e){o.nk.error("加载购物车失败，请检查网络")}});const v=async e=>{try{await(0,Je.iH)(e)}catch(a){o.nk.error("更新失败")}},p=async e=>{try{await(0,Je.L4)(e),o.nk.success("删除成功"),l.loadCart()}catch(a){o.nk.error("删除失败")}},m=async()=>{const e=n.value.filter(e=>e.checked);if(0===e.length)return void o.nk.warning("请先选择要删除的商品");const a=e.map(e=>e.id);G.s.confirm(`确定要删除选中的 ${a.length} 件商品吗？`,"批量删除",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消"}).then(async()=>{try{await(0,Je.fL)(a),await l.loadCart(),o.nk.success("批量删除成功"),b()}catch(e){o.nk.error("批量删除失败，请重试")}}).catch(()=>{o.nk.info("已取消删除")})},k=async()=>{if(0!==n.value.length)try{await G.s.confirm("确定要清空整个购物车吗？","清空购物车",{confirmButtonText:"清空",cancelButtonText:"取消",type:"warning"}),await(0,Je.sX)(),o.nk.success("购物车已清空"),l.loadCart()}catch(e){o.nk.error("清空失败")}else o.nk.info("购物车已经是空的了")},f=()=>{if(0===c.value)return void o.nk.warning("请至少选择一件商品");const e=n.value.filter(e=>e.checked);a.push({path:"/checkout",query:{items:JSON.stringify(e)}})},b=()=>{},g=e=>{n.value.forEach(a=>{a.checked=e}),b()},h=e=>{a.push(`/cake/${e}`)};return(e,a)=>{const l=(0,s.g2)("el-checkbox"),t=(0,s.g2)("el-table-column"),o=(0,s.g2)("el-input-number"),_=(0,s.g2)("el-button"),y=(0,s.g2)("el-table"),w=(0,s.g2)("el-empty"),F=(0,s.g2)("el-card");return(0,s.uX)(),(0,s.CE)("div",Oe,[(0,s.bF)(F,{shadow:"never","body-style":{padding:"30px"}},{default:(0,s.k6)(()=>[a[8]||(a[8]=(0,s.Lk)("h2",null,"我的购物车",-1)),n.value.length>0?((0,s.uX)(),(0,s.Wv)(y,{key:0,data:n.value,style:{width:"100%"},"show-header":!1,"row-style":{height:"100px"}},{default:(0,s.k6)(()=>[(0,s.bF)(t,{width:"60",align:"center"},{default:(0,s.k6)(e=>[(0,s.bF)(l,{modelValue:e.row.checked,"onUpdate:modelValue":a=>e.row.checked=a,onChange:b},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),(0,s.bF)(t,{prop:"name",label:"商品信息"},{default:(0,s.k6)(e=>[(0,s.Lk)("div",{class:"product-info",onClick:a=>h(e.row.productId)},[(0,s.Lk)("img",{src:e.row.image,class:"cart-image"},null,8,$e),(0,s.Lk)("div",Ye,[(0,s.Lk)("div",Ze,(0,d.v_)(e.row.name),1),(0,s.Lk)("div",ea,"编号："+(0,d.v_)(e.row.number),1)])],8,He)]),_:1}),(0,s.bF)(t,{label:"价格变化",width:"200",align:"center"},{default:(0,s.k6)(e=>[(0,s.Lk)("div",aa,[null!=e.row.nowAmount&&null!=e.row.amount?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[e.row.nowAmount<e.row.amount?((0,s.uX)(),(0,s.CE)("div",la," ↓ 立省 ¥"+(0,d.v_)((e.row.amount-e.row.nowAmount).toFixed(2)),1)):e.row.nowAmount>e.row.amount?((0,s.uX)(),(0,s.CE)("div",ta," ↑ 涨价 ¥"+(0,d.v_)((e.row.nowAmount-e.row.amount).toFixed(2)),1)):((0,s.uX)(),(0,s.CE)("div",sa," 价格未变 ")),(0,s.Lk)("div",da," 原价 ¥"+(0,d.v_)(e.row.amount)+" → 现价 ¥"+(0,d.v_)(e.row.nowAmount),1)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" 价格信息加载中... ")],64))])]),_:1}),(0,s.bF)(t,{label:"单价",width:"140",align:"center"},{default:(0,s.k6)(e=>[(0,s.Lk)("span",na,"¥"+(0,d.v_)(e.row.amount),1)]),_:1}),(0,s.bF)(t,{label:"数量",width:"160",align:"center"},{default:(0,s.k6)(e=>[(0,s.bF)(o,{size:"small",modelValue:e.row.num,"onUpdate:modelValue":a=>e.row.num=a,min:1,onChange:a=>v(e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),(0,s.bF)(t,{label:"操作",width:"120",align:"center"},{default:(0,s.k6)(e=>[(0,s.bF)(_,{type:"text",onClick:a=>p(e.row.id),class:"delete-btn"},{default:(0,s.k6)(()=>a[1]||(a[1]=[(0,s.eW)("删除",-1)])),_:2,__:[1]},1032,["onClick"])]),_:1})]),_:1},8,["data"])):((0,s.uX)(),(0,s.CE)("div",oa,[(0,s.bF)(w,{description:"您的购物车为空","image-size":80},{default:(0,s.k6)(()=>[(0,s.bF)(_,{type:"primary",class:"go-home-btn",onClick:r},{default:(0,s.k6)(()=>a[2]||(a[2]=[(0,s.eW)(" 去首页逛逛 ",-1)])),_:1,__:[2]})]),_:1})])),n.value.length>0?((0,s.uX)(),(0,s.CE)("div",ia,[(0,s.Lk)("div",ca,[(0,s.bF)(l,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),onChange:g},{default:(0,s.k6)(()=>a[3]||(a[3]=[(0,s.eW)("全选",-1)])),_:1,__:[3]},8,["modelValue"]),(0,s.Lk)("span",{class:"batch-delete-btn",style:{"margin-left":"24px"},onClick:m},"批量删除"),(0,s.Lk)("span",{class:"clear-all-btn",onClick:k},"清空购物车")]),(0,s.Lk)("div",ra,[(0,s.Lk)("div",ua,[a[4]||(a[4]=(0,s.eW)(" 已选择 ",-1)),(0,s.Lk)("span",null,(0,d.v_)(c.value),1),a[5]||(a[5]=(0,s.eW)(" 件商品 ",-1))]),(0,s.Lk)("div",va,[a[6]||(a[6]=(0,s.eW)(" 总价：",-1)),(0,s.Lk)("span",pa,"¥"+(0,d.v_)(i.value),1)]),(0,s.bF)(_,{type:"primary",size:"large",onClick:f,class:"checkout-btn"},{default:(0,s.k6)(()=>a[7]||(a[7]=[(0,s.eW)("去结算",-1)])),_:1,__:[7]})])])):(0,s.Q3)("",!0)]),_:1,__:[8]})])}}};const ka=(0,z.A)(ma,[["__scopeId","data-v-6eabe478"]]);var fa=ka,ba=l(4323);function ga(e){return(0,i.A)({url:`/search/${e}`,method:"get"})}function ha(e){return(0,i.A)({url:"/search/update",method:"post",data:e})}const _a={class:"search-page"},ya={class:"search-header"},wa={key:0,class:"search-tip"},Fa={key:0,class:"cake-list"},La={key:1,class:"no-results"},Ca={key:2,class:"loading"};var Va={__name:"SearchView",setup(e){const a=(0,t.lq)(),l=(0,n.KR)(""),i=(0,n.KR)([]),c=(0,n.KR)(!1),u=(0,n.KR)(!1),v=(0,n.KR)(null),p=(0,n.KR)(!1),m=((0,n.KR)(null),(0,n.KR)(null)),k=()=>{const e=a.query.q;l.value=e?decodeURIComponent(e):""},f=async()=>{if(!l.value.trim())return i.value=[],void(u.value=!0);c.value=!0;try{const e=await ga(l.value);i.value=e.data||[]}catch(e){o.nk.error("搜索失败"),i.value=[]}finally{c.value=!1,u.value=!0}};(0,s.sV)(()=>{k(),f()}),(0,s.wB)(()=>a.query.q,e=>{const a=e?decodeURIComponent(e):"";l.value=a,f()}),(0,s.wB)(()=>l.value,e=>{document.title=e?`搜索 "${e}" - 蛋糕商城`:"搜索 - 蛋糕商城"},{immediate:!0});const b=e=>{switch(e){case 1:return ba.A;case 2:return pe;case 3:return Xe;default:return null}},g=e=>{ys.push(`/cake/${e}`)},h=e=>{switch(e){case 1:return"甄选蛋糕";case 2:return"甜品";case 3:return"宠物蛋糕";default:return"未知"}},_=async e=>{v.value={...e},p.value=!0,await(0,s.dY)(async()=>{m.value&&"function"===typeof m.value.setFormData?m.value.setFormData(e):console.warn("form 或 setFormData 不存在")})},y=e=>{console.log("sp",e);try{ha(e),o.nk.success("更新成功")}catch(a){o.nk.error("更新失败")}w()},w=()=>{p.value=!1,v.value=null};return(e,a)=>{const t=(0,s.g2)("el-button"),n=(0,s.g2)("el-col"),o=(0,s.g2)("el-row"),k=(0,s.g2)("el-empty"),f=(0,s.g2)("el-skeleton"),F=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.CE)("div",_a,[(0,s.Lk)("div",ya,[a[3]||(a[3]=(0,s.Lk)("h1",null,"搜索结果",-1)),l.value?((0,s.uX)(),(0,s.CE)("p",wa,[a[2]||(a[2]=(0,s.eW)(' 找到与 "',-1)),(0,s.Lk)("strong",null,(0,d.v_)(l.value),1),(0,s.eW)('" 相关的 '+(0,d.v_)(i.value.length)+" 个商品 ",1)])):(0,s.Q3)("",!0)]),i.value.length>0?((0,s.uX)(),(0,s.CE)("div",Fa,[(0,s.bF)(o,{gutter:20},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.value,l=>((0,s.uX)(),(0,s.Wv)(n,{key:l.id,xs:24,sm:12,md:8,lg:6},{default:(0,s.k6)(()=>[(0,s.bF)(r.A,{cake:l,class:"cake-card",onClick:e=>g(l.id)},{actions:(0,s.k6)(()=>[(0,s.bF)(t,{size:"small",onClick:(0,B.D$)(e=>_(l),["stop"]),class:"edit-btn"},{default:(0,s.k6)(()=>a[4]||(a[4]=[(0,s.eW)("编辑",-1)])),_:2,__:[4]},1032,["onClick"]),(0,s.bF)(t,{size:"small",onClick:(0,B.D$)(a=>e.handleDelete(l.id),["stop"]),class:"delete-btn"},{default:(0,s.k6)(()=>a[5]||(a[5]=[(0,s.eW)("删除",-1)])),_:2,__:[5]},1032,["onClick"])]),_:2},1032,["cake","onClick"])]),_:2},1024))),128))]),_:1})])):(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",La,[(0,s.bF)(k,{description:"抱歉，没有找到相关商品","image-size":100},{default:(0,s.k6)(()=>[(0,s.bF)(t,{type:"primary",onClick:a[0]||(a[0]=a=>e.$router.push("/")),class:"home-btn"},{default:(0,s.k6)(()=>a[6]||(a[6]=[(0,s.eW)("去首页看看",-1)])),_:1,__:[6]})]),_:1})],512)),[[B.aG,u.value]]),c.value?((0,s.uX)(),(0,s.CE)("div",Ca,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(6,e=>(0,s.bF)(f,{key:e,rows:3,animated:""})),64))])):(0,s.Q3)("",!0),v.value?((0,s.uX)(),(0,s.Wv)(F,{key:3,title:`编辑 ${h(v.value.categoryId)} 商品`,modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e),width:"50%",onClose:w,class:"edit-dialog"},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(b(v.value.categoryId)),{"initial-data":v.value,ref_key:"form",ref:m,onSubmit:y,onCancel:w},null,40,["initial-data"]))]),_:1},8,["title","modelValue"])):(0,s.Q3)("",!0)])}}};const Ra=(0,z.A)(Va,[["__scopeId","data-v-5fa5840f"]]);var xa=Ra;l(116);function Wa(e){return(0,i.A)({url:"/order/create",method:"put",data:e})}function Aa(e){return(0,i.A)({url:"/order/list",method:"get",params:e})}function Ea(e){return(0,i.A)({url:"/order/pay",method:"post",data:e})}function Ia(e){return(0,i.A)({url:"/order/cancel",method:"post",data:e})}function Ka(e){return(0,i.A)({url:"/address/add",method:"put",data:e})}function Xa(){return(0,i.A)({url:"/address/list",method:"get"})}function Na(e){return(0,i.A)({url:"/address/update",method:"post",data:e})}function Sa(e){return(0,i.A)({url:`/address/delete/${e}`,method:"delete"})}function Ua(){return(0,i.A)({url:"/region/list",method:"get"})}var ja={__name:"AddressForm",props:{address:{type:Object,default:null},size:{type:String,default:"default"}},emits:["submit","cancel"],setup(e,{expose:a,emit:l}){const t=e,d=l,o=(0,n.Kh)({id:null,consignee:"",sex:"男",phone:"",region:[],detail:"",isDefault:0,provinceName:"",cityName:"",districtName:""}),i=()=>{o.id=null,o.consignee="",o.sex="男",o.phone="",o.region=[],o.detail="",o.isDefault=0,o.provinceName="",o.cityName="",o.districtName=""},c={consignee:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],sex:[{required:!1,message:"请输入性别",trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式错误",trigger:"blur"}],region:[{type:"array",required:!0,message:"请选择地区",trigger:"change"}],detail:[{required:!0,message:"请输入详细地址",trigger:"blur"}]},r=(0,n.KR)([]),u=(0,n.KR)();(0,s.wB)(()=>t.address,e=>{if(e){o.id=e.id,o.consignee=e.consignee,o.sex=e.sex,o.phone=e.phone,o.detail=e.detail,o.isDefault=e.isDefault||0;const a=[e.provinceCode,e.cityCode,e.districtCode];o.region=a.filter(Boolean),o.provinceName=e.provinceName||"",o.cityName=e.cityName||"",o.districtName=e.districtName||""}else i()},{immediate:!0});const v=async()=>{try{await u.value.validate();const[e,a,l]=o.region,t={id:o.id,userId:o.userId,consignee:o.consignee,sex:o.sex,phone:o.phone,provinceCode:e,provinceName:m(e),cityCode:a,cityName:m(a),districtCode:l,districtName:m(l),detail:o.detail,isDefault:o.isDefault,createTime:void 0,updateTime:void 0};d("submit",t)}catch(e){console.error("表单验证失败",e)}},p=async()=>{d("cancel"),await i()};a({submit:v,cancel:p,resetForm:i});const m=e=>{if(!e)return"";const a=(e,l)=>{for(const t of e){if(t.value===l)return t.label;if(t.children&&t.children.length>0){const e=a(t.children,l);if(e)return e}}return""};return a(r.value,e)},k=async()=>{try{const e=await Ua(),a=e.data;console.log("地区信息：",a);const l=f(a);r.value=l,console.log("地区信息2：",r.value)}catch(e){console.error("加载地区数据失败:",e)}};function f(e){return e.map(e=>({value:e.code,label:e.name,children:e.children?f(e.children):[]}))}return k(),(a,l)=>{const t=(0,s.g2)("el-input"),d=(0,s.g2)("el-form-item"),n=(0,s.g2)("el-option"),i=(0,s.g2)("el-select"),v=(0,s.g2)("el-cascader"),p=(0,s.g2)("el-switch"),m=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.Wv)(m,{model:o,rules:c,ref_key:"formRef",ref:u,"label-width":"80px",size:e.size},{default:(0,s.k6)(()=>[(0,s.bF)(d,{label:"收货人",prop:"consignee"},{default:(0,s.k6)(()=>[(0,s.bF)(t,{modelValue:o.consignee,"onUpdate:modelValue":l[0]||(l[0]=e=>o.consignee=e),placeholder:"请输入收货人姓名"},null,8,["modelValue"])]),_:1}),(0,s.bF)(d,{label:"性别",prop:"sex"},{default:(0,s.k6)(()=>[(0,s.bF)(i,{modelValue:o.sex,"onUpdate:modelValue":l[1]||(l[1]=e=>o.sex=e),placeholder:"请选择性别"},{default:(0,s.k6)(()=>[(0,s.bF)(n,{label:"男",value:"男"}),(0,s.bF)(n,{label:"女",value:"女"})]),_:1},8,["modelValue"])]),_:1}),(0,s.bF)(d,{label:"手机号",prop:"phone"},{default:(0,s.k6)(()=>[(0,s.bF)(t,{modelValue:o.phone,"onUpdate:modelValue":l[2]||(l[2]=e=>o.phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),(0,s.bF)(d,{label:"所在地区",prop:"region"},{default:(0,s.k6)(()=>[(0,s.bF)(v,{modelValue:o.region,"onUpdate:modelValue":l[3]||(l[3]=e=>o.region=e),options:r.value,placeholder:"请选择省/市/区",style:{width:"100%"}},null,8,["modelValue","options"])]),_:1}),(0,s.bF)(d,{label:"详细地址",prop:"detail"},{default:(0,s.k6)(()=>[(0,s.bF)(t,{modelValue:o.detail,"onUpdate:modelValue":l[4]||(l[4]=e=>o.detail=e),type:"textarea",rows:2,placeholder:"请输入详细地址"},null,8,["modelValue"])]),_:1}),(0,s.bF)(d,{label:"设为默认",prop:"isDefault"},{default:(0,s.k6)(()=>[(0,s.bF)(p,{modelValue:o.isDefault,"onUpdate:modelValue":l[5]||(l[5]=e=>o.isDefault=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","size"])}}};const qa=ja;var Pa=qa;const za={class:"checkout-container"},Da=["src"],Ta={class:"product-name"},Qa={class:"product-number"},Ba={class:"product-quantity"},Ma={class:"product-price"},Ga={class:"add-address-btn"},Ja={class:"total-price-section"},Oa={class:"total-price"},Ha={class:"action-buttons"};var $a={__name:"CheckoutView",setup(e){const a=(0,t.lq)(),l=(0,t.rd)(),i=a.query.items,c=(0,n.KR)([]);if(i)try{c.value=JSON.parse(decodeURIComponent(i)),console.log("商品数据:",c.value)}catch(C){console.error("解析商品数据失败",C)}const r=(0,s.EW)(()=>c.value.reduce((e,a)=>e+a.amount*a.num,0).toFixed(2)),u=(0,n.KR)([]),v=(0,n.KR)(null),p=(0,n.KR)(!1),m=(0,n.KR)(null),k=(0,n.KR)(),f=(0,n.KR)(""),b=e=>{m.value=e,p.value=!0},g=()=>{m.value=null,p.value=!0},h=()=>{k.value&&k.value.resetForm(),m.value=null},_=()=>{p.value=!1,m.value=null,k.value&&k.value.resetForm()},y=async e=>{if(m.value)try{await Na(e);const a=u.value.findIndex(a=>a.id===e.id);-1!==a&&u.value.splice(a,1,e),o.nk.success("地址更新成功")}catch(C){o.nk.error("地址更新失败")}else try{const a=await Ka(e);u.value.push(a.data),e.isDefault&&(v.value=a.data.id),o.nk.success("地址添加成功")}catch(C){o.nk.error("地址添加失败")}e.isDefault&&(v.value=e.id),p.value=!1,m.value=null},w=async()=>{try{const e=await Xa();u.value=e.data;const a=u.value.find(e=>1===e.isDefault||!0===e.isDefault);a?v.value=a.id:u.value.length>0&&(v.value=u.value[0].id)}catch(e){o.nk.error("加载地址失败")}},F=(0,n.KR)(!1),L=async()=>{const e=u.value.find(e=>e.id===v.value);if(!e)return o.nk.warning("地址信息异常"),void(F.value=!1);if(v.value){F.value=!0;try{const a={phone:e.phone,consignee:e.consignee,address:e.provinceName+e.cityName+e.districtName+e.detail,addressId:v.value,totalAmount:parseFloat(r.value),remark:f.value,orderDetails:c.value.map(e=>({name:e.name,productId:e.productId,image:e.image,num:e.num,amount:e.amount,number:e.number}))};console.log("订单信息：",a);const t=await Wa(a);o.nk.success("订单创建成功"),l.push({path:"/pay",query:{orderId:t.data.id,orderNo:t.data.orderNo,amount:t.data.totalAmount}})}catch(C){o.nk.error("订单创建失败，请重试")}finally{F.value=!1}}else o.nk.warning("请选择收货地址")};return(0,s.sV)(()=>{w()}),(e,a)=>{const l=(0,s.g2)("el-card"),t=(0,s.g2)("el-link"),n=(0,s.g2)("el-radio"),o=(0,s.g2)("el-button"),i=(0,s.g2)("el-radio-group"),w=(0,s.g2)("el-dialog"),C=(0,s.g2)("el-input");return(0,s.uX)(),(0,s.CE)("div",za,[a[14]||(a[14]=(0,s.Lk)("h2",null,"确认订单",-1)),(0,s.bF)(l,{shadow:"never",style:{"margin-bottom":"20px"},class:"checkout-card"},{default:(0,s.k6)(()=>[a[5]||(a[5]=(0,s.Lk)("h3",null,"商品信息",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.value,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"product-item"},[(0,s.Lk)("img",{src:e.image,class:"product-image"},null,8,Da),(0,s.Lk)("span",Ta,(0,d.v_)(e.name),1),(0,s.Lk)("span",Qa,"("+(0,d.v_)(e.number)+")",1),(0,s.Lk)("span",Ba,"×"+(0,d.v_)(e.num),1),(0,s.Lk)("span",Ma,"¥"+(0,d.v_)((e.amount*e.num).toFixed(2)),1)]))),128))]),_:1,__:[5]}),(0,s.bF)(l,{shadow:"never",style:{"margin-bottom":"20px"},class:"checkout-card"},{default:(0,s.k6)(()=>[a[9]||(a[9]=(0,s.Lk)("h3",null,"收货地址",-1)),(0,s.bF)(i,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e)},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(u.value,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"address-item"},[(0,s.bF)(n,{label:e.id,class:"address-radio"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(e.consignee)+" "+(0,d.v_)(e.sex)+" "+(0,d.v_)(e.phone)+" | "+(0,d.v_)(e.provinceName)+" "+(0,d.v_)(e.cityName)+" "+(0,d.v_)(e.districtName)+" "+(0,d.v_)(e.detail)+" ",1),(0,s.bF)(t,{onClick:(0,B.D$)(a=>b(e),["stop"]),class:"edit-link"},{default:(0,s.k6)(()=>a[6]||(a[6]=[(0,s.eW)("编辑",-1)])),_:2,__:[6]},1032,["onClick"])]),_:2},1032,["label"])]))),128)),(0,s.Lk)("div",Ga,[(0,s.bF)(o,{onClick:g,class:"add-btn"},{default:(0,s.k6)(()=>a[7]||(a[7]=[(0,s.eW)(" + 添加新地址 ",-1)])),_:1,__:[7]})])]),_:1},8,["modelValue"]),(0,s.bF)(w,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),title:m.value?"编辑收货地址":"添加新地址",width:"600px",onClose:h,class:"address-dialog"},{footer:(0,s.k6)(()=>[(0,s.bF)(o,{onClick:_,class:"cancel-btn"},{default:(0,s.k6)(()=>a[8]||(a[8]=[(0,s.eW)("取消",-1)])),_:1,__:[8]}),(0,s.bF)(o,{type:"primary",onClick:a[1]||(a[1]=e=>k.value.submit()),class:"confirm-btn"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(m.value?"更新":"保存"),1)]),_:1})]),default:(0,s.k6)(()=>[(0,s.bF)(Pa,{ref_key:"addressFormRef",ref:k,address:m.value,size:"small",onSubmit:y,onCancel:_},null,8,["address"])]),_:1},8,["modelValue","title"])]),_:1,__:[9]}),(0,s.bF)(l,{shadow:"never",style:{"margin-bottom":"20px"},class:"checkout-card"},{default:(0,s.k6)(()=>[a[10]||(a[10]=(0,s.Lk)("h3",null,"订单备注",-1)),(0,s.bF)(C,{modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=e=>f.value=e),type:"textarea",rows:3,placeholder:"选填：请填写对订单的特殊要求，如配送时间、口味偏好等",maxlength:"200","show-word-limit":"",class:"remark-input"},null,8,["modelValue"])]),_:1,__:[10]}),(0,s.Lk)("div",Ja,[a[11]||(a[11]=(0,s.eW)(" 总计：",-1)),(0,s.Lk)("span",Oa,"¥"+(0,d.v_)(r.value),1)]),(0,s.Lk)("div",Ha,[(0,s.bF)(o,{onClick:a[4]||(a[4]=a=>e.$router.back()),class:"back-btn"},{default:(0,s.k6)(()=>a[12]||(a[12]=[(0,s.eW)("返回购物车",-1)])),_:1,__:[12]}),(0,s.bF)(o,{onClick:L,loading:F.value,class:"submit-btn"},{default:(0,s.k6)(()=>a[13]||(a[13]=[(0,s.eW)(" 提交订单 ",-1)])),_:1,__:[13]},8,["loading"])])])}}};const Ya=(0,z.A)($a,[["__scopeId","data-v-056bad9e"]]);var Za=Ya;const el={class:"order-list-container"},al={class:"filter-section"},ll={key:0,class:"order-list"},tl={class:"order-header"},sl={class:"order-info"},dl={class:"order-no"},nl={class:"order-time"},ol={key:0,class:"countdown-section"},il={class:"countdown-info"},cl={key:1,class:"address-section"},rl={class:"address-header"},ul={class:"address-content"},vl={class:"address-line"},pl={class:"address-value"},ml={class:"address-line"},kl={class:"address-value"},fl={class:"address-line"},bl={class:"address-value"},gl={class:"products-section"},hl={class:"product-list"},_l=["src"],yl={class:"product-info"},wl={class:"product-name"},Fl={class:"product-specs"},Ll={class:"spec-item"},Cl={class:"spec-item"},Vl={class:"spec-item"},Rl={class:"order-summary"},xl={key:0,class:"order-remark"},Wl={class:"order-total"},Al={class:"total-amount"},El={key:2,class:"cancel-info"},Il={class:"cancel-time"},Kl={key:0,class:"cancel-reason"},Xl={class:"order-actions"},Nl={key:0,class:"order-detail"},Sl={class:"detail-section"},Ul={class:"detail-section"},jl={class:"detail-section"},ql=["src"],Pl={class:"detail-total"},zl={class:"total-line"},Dl={class:"total-value"},Tl={key:0,class:"detail-remark"},Ql={class:"cancel-dialog-content"},Bl={class:"dialog-footer"};var Ml={__name:"OrderView",setup(e){const a=(0,t.rd)(),l=(0,n.KR)(!1),i=(0,n.KR)(null),c=(0,n.KR)(null),r=(0,n.KR)([]);let u=null;const v=async()=>{const e={};0!==c.value&&1!==c.value&&2!==c.value||(e.payStatus=c.value);try{const a=await Aa(e);r.value=a.data||[],r.value=r.value.map(e=>{if(0===e.payStatus&&e.createTime){const a=p(e.createTime);return{...e,remainingTime:a,needRefresh:a<=0}}return e}),f()}catch(a){o.nk.error("加载订单失败"),console.error("请求失败:",a)}},p=e=>{if(!e)return 0;let a;a=Array.isArray(e)&&e.length>=6?new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]):new Date(e);const l=new Date,t=l-a,s=18e5,d=Math.max(0,s-t);return Math.floor(d/1e3)},m=e=>{if(e<=0)return"00:00:00";const a=Math.floor(e/3600),l=Math.floor(e%3600/60),t=e%60;return`${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},k=e=>e<=300?"countdown-urgent":e<=600?"countdown-warning":"countdown-normal",f=()=>{u&&clearInterval(u),u=setInterval(()=>{let e=!1;r.value.forEach(a=>{0===a.payStatus&&void 0!==a.remainingTime&&(a.remainingTime=Math.max(0,a.remainingTime-1),a.remainingTime<=0&&!a.needRefresh&&(a.needRefresh=!0,e=!0))}),e&&v()},1e3)},b=()=>{u&&(clearInterval(u),u=null)},g=e=>{i.value=e,l.value=!0},h=(0,n.KR)(!1),_=(0,n.KR)(!1),y=(0,n.KR)(null),w=(0,n.Kh)({cancelReason:"",otherReason:""}),F=[{value:"change_mind",label:"不想买了"},{value:"wrong_info",label:"信息填写错误"},{value:"found_cheaper",label:"发现更便宜的商品"},{value:"out_of_stock",label:"商品缺货"},{value:"delivery_issue",label:"配送时间不合适"},{value:"payment_issue",label:"支付遇到问题"},{value:"other",label:"其他原因"}],L=e=>{y.value=e,w.cancelReason="",w.otherReason="",h.value=!0},C=e=>{"other"!==e&&(w.otherReason="")},V=async()=>{if(y.value)if(w.cancelReason)if("other"!==w.cancelReason||w.otherReason.trim()){_.value=!0;try{const e={id:y.value.id,cancelReason:"other"===w.cancelReason?w.otherReason.trim():F.find(e=>e.value===w.cancelReason)?.label};await Ia(e),o.nk.success("订单已取消"),h.value=!1,v()}catch(e){o.nk.error("取消失败")}finally{_.value=!1}}else o.nk.error("请输入其他原因");else o.nk.error("请选择取消原因")},R=e=>{a.push({path:"/simplePay",query:{id:e.id,amount:e.totalAmount,orderNo:e.orderNo}}),v()},x=e=>{o.nk.info(`请联系客服处理订单 ${e.orderNo}`)},W=e=>{G.s.confirm(`确定要为订单 ${e.orderNo} 申请退款吗？`,"申请退款",{type:"warning",confirmButtonText:"申请退款",cancelButtonText:"取消"}).then(()=>{o.nk.success("退款申请已提交，客服将在24小时内处理")}).catch(()=>{o.nk.info("取消申请退款")})},A=e=>{switch(e){case 0:return"待支付";case 1:return"已支付";case 2:return"已取消";default:return"未知"}},E=e=>{switch(e){case 0:return"warning";case 1:return"success";case 2:return"info";default:return""}},I=e=>{let a;if(!e)return"";if(Array.isArray(e)){const[l,t,s,d=0,n=0,o=0]=e;a=new Date(l,t-1,s,d,n,o)}else a=new Date(e);if(isNaN(a.getTime()))return"无效日期";const l=e=>e.toString().padStart(2,"0");return`${a.getFullYear()}-${l(a.getMonth()+1)}-${l(a.getDate())} ${l(a.getHours())}:${l(a.getMinutes())}:${l(a.getSeconds())}`};return(0,s.sV)(()=>{v()}),(0,s.hi)(()=>{b()}),(e,t)=>{const o=(0,s.g2)("el-radio-button"),u=(0,s.g2)("el-radio-group"),p=(0,s.g2)("el-icon"),f=(0,s.g2)("el-tag"),b=(0,s.g2)("el-button"),y=(0,s.g2)("el-card"),K=(0,s.g2)("el-empty"),X=(0,s.g2)("el-descriptions-item"),N=(0,s.g2)("el-descriptions"),S=(0,s.g2)("el-table-column"),U=(0,s.g2)("el-table"),j=(0,s.g2)("el-dialog"),q=(0,s.g2)("el-option"),P=(0,s.g2)("el-select"),z=(0,s.g2)("el-input");return(0,s.uX)(),(0,s.CE)("div",el,[t[32]||(t[32]=(0,s.Lk)("div",{class:"page-header"},[(0,s.Lk)("h2",null,"我的订单"),(0,s.Lk)("p",{class:"page-subtitle"},"查看和管理您的所有订单")],-1)),(0,s.Lk)("div",al,[(0,s.bF)(u,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),onChange:v},{default:(0,s.k6)(()=>[(0,s.bF)(o,{label:null},{default:(0,s.k6)(()=>t[7]||(t[7]=[(0,s.eW)("全部订单",-1)])),_:1,__:[7]}),(0,s.bF)(o,{label:0},{default:(0,s.k6)(()=>t[8]||(t[8]=[(0,s.eW)("待支付",-1)])),_:1,__:[8]}),(0,s.bF)(o,{label:1},{default:(0,s.k6)(()=>t[9]||(t[9]=[(0,s.eW)("已支付",-1)])),_:1,__:[9]}),(0,s.bF)(o,{label:2},{default:(0,s.k6)(()=>t[10]||(t[10]=[(0,s.eW)("已取消",-1)])),_:1,__:[10]})]),_:1},8,["modelValue"])]),r.value.length>0?((0,s.uX)(),(0,s.CE)("div",ll,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value,e=>((0,s.uX)(),(0,s.Wv)(y,{shadow:"hover",key:e.id,class:(0,d.C4)(["order-card",{"cancelled-order":2===e.payStatus}])},{default:(0,s.k6)(()=>[(0,s.Lk)("div",tl,[(0,s.Lk)("div",sl,[(0,s.Lk)("div",dl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.yoT))]),_:1}),(0,s.eW)(" 订单号："+(0,d.v_)(e.orderNo),1)]),(0,s.bF)(f,{class:"status-tag",type:E(e.payStatus)},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(A(e.payStatus)),1)]),_:2},1032,["type"])]),(0,s.Lk)("div",nl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.zD7))]),_:1}),(0,s.eW)(" 下单时间："+(0,d.v_)(I(e.orderTime)),1)])]),0===e.payStatus&&e.createTime?((0,s.uX)(),(0,s.CE)("div",ol,[(0,s.Lk)("div",il,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.zD7))]),_:1}),t[11]||(t[11]=(0,s.Lk)("span",{class:"countdown-text"},"剩余支付时间：",-1)),(0,s.Lk)("span",{class:(0,d.C4)(["countdown-timer",k(e.remainingTime)])},(0,d.v_)(m(e.remainingTime)),3)]),t[12]||(t[12]=(0,s.Lk)("div",{class:"countdown-tip"},"超时未支付订单将自动取消",-1))])):(0,s.Q3)("",!0),e.address||e.consignee?((0,s.uX)(),(0,s.CE)("div",cl,[(0,s.Lk)("div",rl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.aZn))]),_:1}),t[13]||(t[13]=(0,s.Lk)("span",null,"收货地址",-1))]),(0,s.Lk)("div",ul,[(0,s.Lk)("div",vl,[t[14]||(t[14]=(0,s.Lk)("span",{class:"address-label"},"收货人：",-1)),(0,s.Lk)("span",pl,(0,d.v_)(e.consignee||"未填写"),1)]),(0,s.Lk)("div",ml,[t[15]||(t[15]=(0,s.Lk)("span",{class:"address-label"},"联系电话：",-1)),(0,s.Lk)("span",kl,(0,d.v_)(e.phone||"未填写"),1)]),(0,s.Lk)("div",fl,[t[16]||(t[16]=(0,s.Lk)("span",{class:"address-label"},"详细地址：",-1)),(0,s.Lk)("span",bl,(0,d.v_)(e.address||"未填写"),1)])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",gl,[t[17]||(t[17]=(0,s.Lk)("div",{class:"section-title"},"商品信息",-1)),(0,s.Lk)("div",hl,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.orderDetails,e=>((0,s.uX)(),(0,s.CE)("div",{class:"product-item",key:e.id},[(0,s.Lk)("img",{src:e.image,class:"product-image"},null,8,_l),(0,s.Lk)("div",yl,[(0,s.Lk)("div",wl,(0,d.v_)(e.name),1),(0,s.Lk)("div",Fl,[(0,s.Lk)("span",Ll,"规格："+(0,d.v_)(e.number||"默认"),1),(0,s.Lk)("span",Cl,"数量：×"+(0,d.v_)(e.num),1),(0,s.Lk)("span",Vl,"单价：¥"+(0,d.v_)(e.amount.toFixed(2)),1)])])]))),128))])]),(0,s.Lk)("div",Rl,[e.remark?((0,s.uX)(),(0,s.CE)("div",xl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.wUE))]),_:1}),(0,s.eW)(" 订单备注："+(0,d.v_)(e.remark),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Wl,[t[18]||(t[18]=(0,s.eW)(" 订单总额：",-1)),(0,s.Lk)("span",Al,"¥"+(0,d.v_)(e.totalAmount.toFixed(2)),1)])]),2===e.payStatus?((0,s.uX)(),(0,s.CE)("div",El,[(0,s.Lk)("div",Il,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.zD7))]),_:1}),(0,s.eW)(" 取消时间："+(0,d.v_)(I(e.cancelTime)),1)]),e.cancelReason?((0,s.uX)(),(0,s.CE)("div",Kl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.N5l))]),_:1}),(0,s.eW)(" 取消原因："+(0,d.v_)(e.cancelReason),1)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Xl,[(0,s.bF)(b,{class:"action-btn detail-btn",onClick:a=>g(e)},{default:(0,s.k6)(()=>[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.Ss2))]),_:1}),t[19]||(t[19]=(0,s.eW)(" 订单详情 ",-1))]),_:2,__:[19]},1032,["onClick"]),0===e.payStatus?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bF)(b,{class:"action-btn cancel-btn",onClick:a=>L(e)},{default:(0,s.k6)(()=>[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.bm))]),_:1}),t[20]||(t[20]=(0,s.eW)(" 取消订单 ",-1))]),_:2,__:[20]},1032,["onClick"]),(0,s.bF)(b,{class:"action-btn pay-btn",onClick:a=>R(e)},{default:(0,s.k6)(()=>[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.v0_))]),_:1}),t[21]||(t[21]=(0,s.eW)(" 立即支付 ",-1))]),_:2,__:[21]},1032,["onClick"])],64)):(0,s.Q3)("",!0),1===e.payStatus?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bF)(b,{class:"action-btn secondary",onClick:a=>x(e)},{default:(0,s.k6)(()=>[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.kll))]),_:1}),t[22]||(t[22]=(0,s.eW)(" 联系客服 ",-1))]),_:2,__:[22]},1032,["onClick"]),(0,s.bF)(b,{class:"action-btn secondary",onClick:a=>W(e)},{default:(0,s.k6)(()=>[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.kyK))]),_:1}),t[23]||(t[23]=(0,s.eW)(" 申请退款 ",-1))]),_:2,__:[23]},1032,["onClick"])],64)):(0,s.Q3)("",!0)])]),_:2},1032,["class"]))),128))])):((0,s.uX)(),(0,s.Wv)(K,{key:1,description:"暂无订单","image-size":200},{default:(0,s.k6)(()=>[(0,s.bF)(b,{type:"primary",onClick:t[1]||(t[1]=e=>(0,n.R1)(a).push("/home")),class:"shopping-btn"},{default:(0,s.k6)(()=>t[24]||(t[24]=[(0,s.eW)("去首页逛逛",-1)])),_:1,__:[24]})]),_:1})),(0,s.bF)(j,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e),title:`订单详情 - ${i.value?.orderNo||""}`,width:"700px",class:"order-detail-dialog"},{default:(0,s.k6)(()=>[i.value?((0,s.uX)(),(0,s.CE)("div",Nl,[(0,s.Lk)("div",Sl,[t[25]||(t[25]=(0,s.Lk)("h3",null,"订单信息",-1)),(0,s.bF)(N,{column:2,border:""},{default:(0,s.k6)(()=>[(0,s.bF)(X,{label:"订单号"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(i.value.orderNo),1)]),_:1}),(0,s.bF)(X,{label:"下单时间"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(I(i.value.orderTime)),1)]),_:1}),(0,s.bF)(X,{label:"订单状态"},{default:(0,s.k6)(()=>[(0,s.bF)(f,{type:E(i.value.payStatus)},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(A(i.value.payStatus)),1)]),_:1},8,["type"])]),_:1}),(0,s.bF)(X,{label:"支付方式"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(1===i.value.payMethod?"微信支付":"支付宝"),1)]),_:1})]),_:1})]),(0,s.Lk)("div",Ul,[t[26]||(t[26]=(0,s.Lk)("h3",null,"收货信息",-1)),(0,s.bF)(N,{column:1,border:""},{default:(0,s.k6)(()=>[(0,s.bF)(X,{label:"收货人"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(i.value.consignee||"未填写"),1)]),_:1}),(0,s.bF)(X,{label:"联系电话"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(i.value.phone||"未填写"),1)]),_:1}),(0,s.bF)(X,{label:"收货地址"},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(i.value.address||"未填写"),1)]),_:1})]),_:1})]),(0,s.Lk)("div",jl,[t[27]||(t[27]=(0,s.Lk)("h3",null,"商品信息",-1)),(0,s.bF)(U,{data:i.value.orderDetails,size:"small",class:"detail-table"},{default:(0,s.k6)(()=>[(0,s.bF)(S,{prop:"name",label:"商品名称",width:"200"}),(0,s.bF)(S,{label:"商品图片",width:"80"},{default:(0,s.k6)(e=>[(0,s.Lk)("img",{src:e.row.image,class:"table-product-image"},null,8,ql)]),_:1}),(0,s.bF)(S,{prop:"number",label:"规格",width:"120"}),(0,s.bF)(S,{prop:"num",label:"数量",width:"80"}),(0,s.bF)(S,{label:"单价",width:"100"},{default:(0,s.k6)(e=>[(0,s.eW)(" ¥"+(0,d.v_)(e.row.amount.toFixed(2)),1)]),_:1}),(0,s.bF)(S,{label:"小计",width:"100"},{default:(0,s.k6)(e=>[(0,s.eW)(" ¥"+(0,d.v_)((e.row.amount*e.row.num).toFixed(2)),1)]),_:1})]),_:1},8,["data"])]),(0,s.Lk)("div",Pl,[(0,s.Lk)("div",zl,[t[28]||(t[28]=(0,s.Lk)("span",{class:"total-label"},"订单总额：",-1)),(0,s.Lk)("span",Dl,"¥"+(0,d.v_)(i.value.totalAmount.toFixed(2)),1)])]),i.value.remark?((0,s.uX)(),(0,s.CE)("div",Tl,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.wUE))]),_:1}),(0,s.eW)(" 订单备注："+(0,d.v_)(i.value.remark),1)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),_:1},8,["modelValue","title"]),(0,s.bF)(j,{modelValue:h.value,"onUpdate:modelValue":t[6]||(t[6]=e=>h.value=e),title:"取消订单",width:"500px"},{footer:(0,s.k6)(()=>[(0,s.Lk)("div",Bl,[(0,s.bF)(b,{onClick:t[5]||(t[5]=e=>h.value=!1),disabled:_.value},{default:(0,s.k6)(()=>t[30]||(t[30]=[(0,s.eW)(" 再想想 ",-1)])),_:1,__:[30]},8,["disabled"]),(0,s.bF)(b,{type:"primary",onClick:V,loading:_.value,disabled:!w.cancelReason||"other"===w.cancelReason&&!w.otherReason},{default:(0,s.k6)(()=>t[31]||(t[31]=[(0,s.eW)(" 确认取消 ",-1)])),_:1,__:[31]},8,["loading","disabled"])])]),default:(0,s.k6)(()=>[(0,s.Lk)("div",Ql,[t[29]||(t[29]=(0,s.Lk)("p",{class:"cancel-tip"},"请选择取消原因：",-1)),(0,s.bF)(P,{modelValue:w.cancelReason,"onUpdate:modelValue":t[3]||(t[3]=e=>w.cancelReason=e),placeholder:"请选择取消原因",class:"cancel-reason-select",size:"large",onChange:C},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(F,e=>(0,s.bF)(q,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),"other"===w.cancelReason?((0,s.uX)(),(0,s.Wv)(z,{key:0,modelValue:w.otherReason,"onUpdate:modelValue":t[4]||(t[4]=e=>w.otherReason=e),type:"textarea",placeholder:"请输入其他原因",rows:3,maxlength:"200","show-word-limit":"",style:{"margin-top":"16px"}},null,8,["modelValue"])):(0,s.Q3)("",!0)])]),_:1},8,["modelValue"])])}}};const Gl=(0,z.A)(Ml,[["__scopeId","data-v-3042d7f8"]]);var Jl=Gl;function Ol(){return(0,i.A)({url:"getUserInfo",method:"get"})}function Hl(e){return(0,i.A)({url:`/updateName/${e}`,method:"post"})}function $l(e){return(0,i.A)({url:"/updatePassword",method:"post",data:e})}const Yl={class:"personal-center"},Zl={class:"card-header"},et={class:"user-info"},at={class:"user-avatar"},lt={class:"user-name"},tt={class:"user-details"},st={class:"info-item"},dt={class:"label"},nt={class:"value"},ot={class:"info-item"},it={class:"label"},ct={class:"value amount"},rt={class:"action-buttons"},ut={class:"card-header"},vt={class:"header-left"},pt={class:"header-right"},mt={class:"address-list"},kt={class:"address-header"},ft={class:"address-consignee"},bt={class:"address-phone"},gt={class:"address-content"},ht={class:"address-region"},_t={class:"address-detail"},yt={class:"address-actions"},wt={key:0,class:"empty-address"},Ft={class:"dialog-footer"},Lt={class:"dialog-footer"},Ct={class:"dialog-footer"};var Vt={__name:"PersonalCenter",setup(e){const a=(0,n.Kh)({name:"",amount:"0.00",avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}),l=(0,n.KR)([]),t=(0,n.KR)(!1),i=(0,n.KR)(null),c=(0,n.KR)(!1),r=(0,n.KR)(!1),u=(0,n.KR)(!1),v=(0,n.KR)("add"),p=(0,n.KR)(null),m=(0,n.Kh)({newName:""}),k=(0,n.Kh)({oldPassword:"",newPassword:"",confirmPassword:""}),f={newName:[{required:!0,message:"请输入新用户名",trigger:"blur"},{min:2,message:"用户名长度不能少于2位",trigger:"blur"}]},b={oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(e,a,l)=>{a!==k.newPassword?l(new Error("两次输入密码不一致")):l()},trigger:"blur"}]},g=(0,s.EW)(()=>"add"===v.value?"新增地址":"编辑地址"),h=(0,n.KR)(null),_=(0,n.KR)(null),y=async()=>{try{const e=await Ol();a.name=e.data.name,a.amount=e.data.amount?`¥${parseFloat(e.data.amount).toFixed(2)}`:"¥0.00",e.data.avatar&&(a.avatar=e.data.avatar)}catch(e){o.nk.error("获取用户信息失败")}},w=async()=>{p.value&&await p.value.submit()},F=async()=>{t.value=!0;try{const e=await Xa();l.value=e.data.map(e=>({...e,regionName:[e.provinceName,e.cityName,e.districtName].join(" ")}))}catch(e){o.nk.error("获取地址失败")}finally{t.value=!1}},L=()=>{m.newName=a.name,c.value=!0},C=()=>{c.value=!1,m.newName="",h.value&&h.value.clearValidate()},V=async()=>{try{await h.value.validate(),await Hl(m.newName),a.name=m.newName,o.nk.success("用户名修改成功"),C()}catch(e){o.nk.error("用户名修改失败")}},R=()=>{r.value=!0},x=()=>{r.value=!1,k.oldPassword="",k.newPassword="",k.confirmPassword="",_.value&&_.value.clearValidate()},W=async()=>{try{await _.value.validate(),await $l({oldPassword:k.oldPassword,newPassword:k.newPassword}),o.nk.success("密码修改成功"),x()}catch(e){o.nk.error("密码修改失败")}},A=(e,a=null)=>{v.value=e,i.value=a?{...a}:null,u.value=!0},E=()=>{u.value=!1,i.value=null},I=async e=>{try{await G.s.confirm("确定要删除该地址吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await Sa(e),o.nk.success("删除成功"),F()}catch(a){"cancel"!==a&&o.nk.error("删除失败")}},K=async e=>{try{await Na({id:e,isDefault:1}),await F(),o.nk.success("设置成功")}catch(a){o.nk.error("设置失败")}},X=async e=>{try{e.id?await Na(e):await Ka({...e,userId:a.id||1}),o.nk.success("保存成功"),E(),F()}catch(l){o.nk.error("保存失败")}};return(0,s.sV)(async()=>{await y(),await F()}),(e,o)=>{const v=(0,s.g2)("el-icon"),y=(0,s.g2)("el-avatar"),F=(0,s.g2)("el-button"),N=(0,s.g2)("el-card"),S=(0,s.g2)("el-tag"),U=(0,s.g2)("el-empty"),j=(0,s.g2)("el-input"),q=(0,s.g2)("el-form-item"),P=(0,s.g2)("el-form"),z=(0,s.g2)("el-dialog"),D=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)("div",Yl,[o[27]||(o[27]=(0,s.Lk)("div",{class:"page-header"},[(0,s.Lk)("h2",null,"个人中心"),(0,s.Lk)("p",{class:"page-subtitle"},"管理您的账户信息和收货地址")],-1)),(0,s.bF)(N,{class:"user-card",shadow:"hover"},{header:(0,s.k6)(()=>[(0,s.Lk)("div",Zl,[o[9]||(o[9]=(0,s.Lk)("span",{class:"card-title"},"账户信息",-1)),(0,s.bF)(v,{class:"card-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.KJW))]),_:1})])]),default:(0,s.k6)(()=>[(0,s.Lk)("div",et,[(0,s.Lk)("div",at,[(0,s.bF)(y,{size:100,src:a.avatar},null,8,["src"]),(0,s.Lk)("div",lt,(0,d.v_)(a.name),1)]),(0,s.Lk)("div",tt,[(0,s.Lk)("div",st,[(0,s.Lk)("div",dt,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.KJW))]),_:1}),o[10]||(o[10]=(0,s.Lk)("span",null,"用户名",-1))]),(0,s.Lk)("div",nt,(0,d.v_)(a.name),1)]),(0,s.Lk)("div",ot,[(0,s.Lk)("div",it,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.uWV))]),_:1}),o[11]||(o[11]=(0,s.Lk)("span",null,"账户余额",-1))]),(0,s.Lk)("div",ct,(0,d.v_)(a.amount),1)]),(0,s.Lk)("div",rt,[(0,s.bF)(F,{type:"primary",class:"action-btn",onClick:L},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.ffu))]),_:1}),o[12]||(o[12]=(0,s.eW)(" 修改用户名 ",-1))]),_:1,__:[12]}),(0,s.bF)(F,{class:"action-btn secondary",onClick:R},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.c_I))]),_:1}),o[13]||(o[13]=(0,s.eW)(" 修改密码 ",-1))]),_:1,__:[13]})])])])]),_:1}),(0,s.bF)(N,{class:"address-card",shadow:"hover"},{header:(0,s.k6)(()=>[(0,s.Lk)("div",ut,[(0,s.Lk)("div",vt,[o[14]||(o[14]=(0,s.Lk)("span",{class:"card-title"},"收货地址管理",-1)),(0,s.bF)(v,{class:"card-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.aZn))]),_:1})]),(0,s.Lk)("div",pt,[(0,s.bF)(F,{type:"primary",class:"add-address-btn",onClick:o[0]||(o[0]=e=>A("add"))},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.FWt))]),_:1}),o[15]||(o[15]=(0,s.eW)(" 新增地址 ",-1))]),_:1,__:[15]})])])]),default:(0,s.k6)(()=>[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",mt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,d.C4)(["address-item",{"default-address":1===e.isDefault}])},[(0,s.Lk)("div",kt,[(0,s.Lk)("div",ft,[(0,s.Lk)("span",null,(0,d.v_)(e.consignee),1),1===e.isDefault?((0,s.uX)(),(0,s.Wv)(S,{key:0,class:"default-tag"},{default:(0,s.k6)(()=>o[16]||(o[16]=[(0,s.eW)("默认地址",-1)])),_:1,__:[16]})):(0,s.Q3)("",!0)]),(0,s.Lk)("div",bt,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.bcf))]),_:1}),(0,s.eW)(" "+(0,d.v_)(e.phone),1)])]),(0,s.Lk)("div",gt,[(0,s.Lk)("div",ht,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.aZn))]),_:1}),(0,s.eW)(" "+(0,d.v_)(e.regionName),1)]),(0,s.Lk)("div",_t,(0,d.v_)(e.detail),1)]),(0,s.Lk)("div",yt,[(0,s.bF)(F,{size:"small",class:"address-action-btn",onClick:a=>A("edit",e)},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.ffu))]),_:1}),o[17]||(o[17]=(0,s.eW)(" 编辑 ",-1))]),_:2,__:[17]},1032,["onClick"]),(0,s.bF)(F,{size:"small",class:"address-action-btn danger",onClick:a=>I(e.id)},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.epd))]),_:1}),o[18]||(o[18]=(0,s.eW)(" 删除 ",-1))]),_:2,__:[18]},1032,["onClick"]),1!==e.isDefault?((0,s.uX)(),(0,s.Wv)(F,{key:0,size:"small",class:"address-action-btn secondary",onClick:a=>K(e.id)},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.FEq))]),_:1}),o[19]||(o[19]=(0,s.eW)(" 设为默认 ",-1))]),_:2,__:[19]},1032,["onClick"])):(0,s.Q3)("",!0)])],2))),128)),0!==l.value.length||t.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",wt,[(0,s.bF)(U,{description:"暂无收货地址","image-size":150},{default:(0,s.k6)(()=>[(0,s.bF)(F,{type:"primary",onClick:o[1]||(o[1]=e=>A("add"))},{default:(0,s.k6)(()=>o[20]||(o[20]=[(0,s.eW)("添加地址",-1)])),_:1,__:[20]})]),_:1})]))])),[[D,t.value]])]),_:1}),(0,s.bF)(z,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=e=>c.value=e),title:"修改用户名",width:"500px",onClose:C},{footer:(0,s.k6)(()=>[(0,s.Lk)("span",Ft,[(0,s.bF)(F,{onClick:C},{default:(0,s.k6)(()=>o[21]||(o[21]=[(0,s.eW)("取消",-1)])),_:1,__:[21]}),(0,s.bF)(F,{type:"primary",onClick:V},{default:(0,s.k6)(()=>o[22]||(o[22]=[(0,s.eW)("确定",-1)])),_:1,__:[22]})])]),default:(0,s.k6)(()=>[(0,s.bF)(P,{model:m,rules:f,ref_key:"nameFormRef",ref:h,"label-width":"100px"},{default:(0,s.k6)(()=>[(0,s.bF)(q,{label:"新用户名",prop:"newName"},{default:(0,s.k6)(()=>[(0,s.bF)(j,{modelValue:m.newName,"onUpdate:modelValue":o[2]||(o[2]=e=>m.newName=e),placeholder:"请输入新用户名"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,s.bF)(z,{modelValue:r.value,"onUpdate:modelValue":o[7]||(o[7]=e=>r.value=e),title:"修改密码",width:"500px",onClose:x},{footer:(0,s.k6)(()=>[(0,s.Lk)("span",Lt,[(0,s.bF)(F,{onClick:x},{default:(0,s.k6)(()=>o[23]||(o[23]=[(0,s.eW)("取消",-1)])),_:1,__:[23]}),(0,s.bF)(F,{type:"primary",onClick:W},{default:(0,s.k6)(()=>o[24]||(o[24]=[(0,s.eW)("确定",-1)])),_:1,__:[24]})])]),default:(0,s.k6)(()=>[(0,s.bF)(P,{model:k,rules:b,ref_key:"passwordFormRef",ref:_,"label-width":"100px"},{default:(0,s.k6)(()=>[(0,s.bF)(q,{label:"原密码",prop:"oldPassword"},{default:(0,s.k6)(()=>[(0,s.bF)(j,{modelValue:k.oldPassword,"onUpdate:modelValue":o[4]||(o[4]=e=>k.oldPassword=e),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),(0,s.bF)(q,{label:"新密码",prop:"newPassword"},{default:(0,s.k6)(()=>[(0,s.bF)(j,{modelValue:k.newPassword,"onUpdate:modelValue":o[5]||(o[5]=e=>k.newPassword=e),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),(0,s.bF)(q,{label:"确认密码",prop:"confirmPassword"},{default:(0,s.k6)(()=>[(0,s.bF)(j,{modelValue:k.confirmPassword,"onUpdate:modelValue":o[6]||(o[6]=e=>k.confirmPassword=e),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,s.bF)(z,{modelValue:u.value,"onUpdate:modelValue":o[8]||(o[8]=e=>u.value=e),title:g.value,width:"600px",onClose:E},{footer:(0,s.k6)(()=>[(0,s.Lk)("span",Ct,[(0,s.bF)(F,{onClick:E},{default:(0,s.k6)(()=>o[25]||(o[25]=[(0,s.eW)("取消",-1)])),_:1,__:[25]}),(0,s.bF)(F,{type:"primary",onClick:w},{default:(0,s.k6)(()=>o[26]||(o[26]=[(0,s.eW)("确定",-1)])),_:1,__:[26]})])]),default:(0,s.k6)(()=>[(0,s.bF)(Pa,{ref_key:"addressFormRef",ref:p,address:i.value,visible:u.value,onSubmit:X,onCancel:E},null,8,["address","visible"])]),_:1},8,["modelValue","title"])])}}};const Rt=(0,z.A)(Vt,[["__scopeId","data-v-32c2e5b8"]]);var xt=Rt;const Wt={class:"cooperation-page"};var At={__name:"CooperationZone",setup(e){return(e,a)=>((0,s.uX)(),(0,s.CE)("div",Wt,a[0]||(a[0]=[(0,s.Fv)('<div class="cooperation-banner" data-v-4cd8fdba><div class="banner-content" data-v-4cd8fdba><h1 class="banner-title" data-v-4cd8fdba>品牌合作</h1><p class="banner-subtitle" data-v-4cd8fdba>携手共赢 · 共创甜蜜事业</p><div class="banner-decoration" data-v-4cd8fdba><span class="decoration-item" data-v-4cd8fdba>🤝</span><span class="decoration-item" data-v-4cd8fdba>💼</span><span class="decoration-item" data-v-4cd8fdba>🚀</span></div></div></div><div class="advantages-section" data-v-4cd8fdba><div class="section-header" data-v-4cd8fdba><h2 data-v-4cd8fdba>合作优势</h2><p data-v-4cd8fdba>选择我们，共创美好未来</p></div><div class="advantages-grid" data-v-4cd8fdba><div class="advantage-card" data-v-4cd8fdba><div class="advantage-icon" data-v-4cd8fdba>📈</div><h3 data-v-4cd8fdba>品牌影响力</h3><p data-v-4cd8fdba>多年行业积累，拥有广泛的客户群体和良好的市场口碑</p></div><div class="advantage-card" data-v-4cd8fdba><div class="advantage-icon" data-v-4cd8fdba>🔧</div><h3 data-v-4cd8fdba>技术支持</h3><p data-v-4cd8fdba>专业的研发团队，持续创新产品，提供全方位技术支持</p></div><div class="advantage-card" data-v-4cd8fdba><div class="advantage-icon" data-v-4cd8fdba>🌟</div><h3 data-v-4cd8fdba>营销支持</h3><p data-v-4cd8fdba>全面的市场营销方案，助力合作伙伴快速打开市场</p></div></div></div><div class="cooperation-models" data-v-4cd8fdba><div class="section-header" data-v-4cd8fdba><h2 data-v-4cd8fdba>合作模式</h2><p data-v-4cd8fdba>多种合作方式，满足不同需求</p></div><div class="models-container" data-v-4cd8fdba><div class="model-card" data-v-4cd8fdba><div class="model-header" data-v-4cd8fdba><h3 data-v-4cd8fdba>区域代理</h3><div class="model-badge" data-v-4cd8fdba>热门</div></div><div class="model-content" data-v-4cd8fdba><ul class="model-features" data-v-4cd8fdba><li data-v-4cd8fdba>✓ 区域独家代理权</li><li data-v-4cd8fdba>✓ 价格优势支持</li><li data-v-4cd8fdba>✓ 市场保护政策</li><li data-v-4cd8fdba>✓ 专业培训指导</li></ul></div></div><div class="model-card featured" data-v-4cd8fdba><div class="model-header" data-v-4cd8fdba><h3 data-v-4cd8fdba>品牌加盟</h3><div class="model-badge" data-v-4cd8fdba>推荐</div></div><div class="model-content" data-v-4cd8fdba><ul class="model-features" data-v-4cd8fdba><li data-v-4cd8fdba>✓ 品牌授权使用</li><li data-v-4cd8fdba>✓ 整店输出支持</li><li data-v-4cd8fdba>✓ 运营管理培训</li><li data-v-4cd8fdba>✓ 营销活动支持</li></ul></div></div><div class="model-card" data-v-4cd8fdba><div class="model-header" data-v-4cd8fdba><h3 data-v-4cd8fdba>渠道合作</h3><div class="model-badge" data-v-4cd8fdba>灵活</div></div><div class="model-content" data-v-4cd8fdba><ul class="model-features" data-v-4cd8fdba><li data-v-4cd8fdba>✓ 产品供应合作</li><li data-v-4cd8fdba>✓ 定制开发服务</li><li data-v-4cd8fdba>✓ 线上线下联动</li><li data-v-4cd8fdba>✓ 资源共享共赢</li></ul></div></div></div></div><div class="cooperation-process" data-v-4cd8fdba><div class="section-header" data-v-4cd8fdba><h2 data-v-4cd8fdba>合作流程</h2><p data-v-4cd8fdba>简单四步，开启合作之旅</p></div><div class="process-steps" data-v-4cd8fdba><div class="process-step" data-v-4cd8fdba><div class="step-number" data-v-4cd8fdba>01</div><h4 data-v-4cd8fdba>咨询沟通</h4><p data-v-4cd8fdba>了解合作详情</p></div><div class="process-step" data-v-4cd8fdba><div class="step-number" data-v-4cd8fdba>02</div><h4 data-v-4cd8fdba>实地考察</h4><p data-v-4cd8fdba>深入了解品牌</p></div><div class="process-step" data-v-4cd8fdba><div class="step-number" data-v-4cd8fdba>03</div><h4 data-v-4cd8fdba>签订协议</h4><p data-v-4cd8fdba>正式建立合作</p></div><div class="process-step" data-v-4cd8fdba><div class="step-number" data-v-4cd8fdba>04</div><h4 data-v-4cd8fdba>启动运营</h4><p data-v-4cd8fdba>携手共创未来</p></div></div></div><div class="join-us-section" data-v-4cd8fdba><div class="section-header" data-v-4cd8fdba><h2 data-v-4cd8fdba>加入我们</h2><p data-v-4cd8fdba>期待与您携手共创甜蜜事业</p><div class="contact-icon" data-v-4cd8fdba></div><div class="contact-details" data-v-4cd8fdba><h4 data-v-4cd8fdba>📍地址</h4><p data-v-4cd8fdba>北京市朝阳区甜品大道88号</p></div><div class="contact-icon" data-v-4cd8fdba></div><div class="contact-details" data-v-4cd8fdba><h4 data-v-4cd8fdba>📞电话</h4><p data-v-4cd8fdba>400-888-9999</p></div><div class="contact-icon" data-v-4cd8fdba></div><div class="contact-details" data-v-4cd8fdba><h4 data-v-4cd8fdba>✉️邮箱</h4><p data-v-4cd8fdba>contact@sweetcake.com</p></div><div class="contact-icon" data-v-4cd8fdba></div><div class="contact-details" data-v-4cd8fdba><h4 data-v-4cd8fdba>🕒营业时间</h4><p data-v-4cd8fdba>周一至周日 9:00-21:00</p></div></div></div>',5)])))}};const Et=(0,z.A)(At,[["__scopeId","data-v-4cd8fdba"]]);var It=Et;const Kt={class:"about-page"};var Xt={__name:"AboutUs",setup(e){return(e,a)=>((0,s.uX)(),(0,s.CE)("div",Kt,a[0]||(a[0]=[(0,s.Fv)('<div class="company-intro" data-v-24fa8498><div class="intro-content" data-v-24fa8498><div class="intro-text" data-v-24fa8498><h1 data-v-24fa8498>关于我们</h1><p class="slogan" data-v-24fa8498>用心制作每一份甜蜜，传递幸福与温暖</p><div class="description" data-v-24fa8498><p data-v-24fa8498>我们是一家专注于高品质蛋糕制作的品牌，致力于为顾客提供最美味的甜品体验。自成立以来，始终坚持选用优质原料，结合传统工艺与现代创新，打造出一系列深受喜爱的蛋糕产品。</p><p data-v-24fa8498>我们的使命是让每一口蛋糕都能带给您满满的幸福感，让甜蜜的味道伴随每一个重要时刻。</p></div><div class="stats" data-v-24fa8498><div class="stat-item" data-v-24fa8498><div class="stat-number" data-v-24fa8498>500+</div><div class="stat-label" data-v-24fa8498>产品种类</div></div><div class="stat-item" data-v-24fa8498><div class="stat-number" data-v-24fa8498>10000+</div><div class="stat-label" data-v-24fa8498>满意客户</div></div><div class="stat-item" data-v-24fa8498><div class="stat-number" data-v-24fa8498>50+</div><div class="stat-label" data-v-24fa8498>合作门店</div></div></div></div><div class="intro-image" data-v-24fa8498><img src="https://lsl-bucket.oss-cn-guangzhou.aliyuncs.com/56a7020b-4892-4fb0-b0a9-1cddc2b543a2.jpg" alt="关于我们" data-v-24fa8498></div></div></div><div class="brand-philosophy" data-v-24fa8498><div class="section-header" data-v-24fa8498><h2 data-v-24fa8498>品牌理念</h2><p data-v-24fa8498>我们的核心价值观</p></div><div class="philosophy-cards" data-v-24fa8498><div class="philosophy-card" data-v-24fa8498><div class="card-icon" data-v-24fa8498>🎯</div><h3 data-v-24fa8498>品质至上</h3><p data-v-24fa8498>严格把控每一个环节，从原料选择到制作工艺，确保每一款产品都达到最高标准</p></div><div class="philosophy-card" data-v-24fa8498><div class="card-icon" data-v-24fa8498>❤️</div><h3 data-v-24fa8498>用心服务</h3><p data-v-24fa8498>以客户为中心，用心聆听每一个需求，提供贴心周到的服务体验</p></div><div class="philosophy-card" data-v-24fa8498><div class="card-icon" data-v-24fa8498>🚀</div><h3 data-v-24fa8498>持续创新</h3><p data-v-24fa8498>不断探索新的口味和工艺，引领甜品潮流，满足多样化的市场需求</p></div></div></div><div class="development-timeline" data-v-24fa8498><div class="section-header" data-v-24fa8498><h2 data-v-24fa8498>发展历程</h2><p data-v-24fa8498>一路走来，感恩有您</p></div><div class="timeline" data-v-24fa8498><div class="timeline-item" data-v-24fa8498><div class="timeline-year" data-v-24fa8498>2018</div><div class="timeline-content" data-v-24fa8498><h4 data-v-24fa8498>品牌创立</h4><p data-v-24fa8498>第一家门店正式开业，开启甜蜜事业</p></div></div><div class="timeline-item" data-v-24fa8498><div class="timeline-year" data-v-24fa8498>2019</div><div class="timeline-content" data-v-24fa8498><h4 data-v-24fa8498>产品创新</h4><p data-v-24fa8498>推出首个爆款系列，获得市场认可</p></div></div><div class="timeline-item" data-v-24fa8498><div class="timeline-year" data-v-24fa8498>2020</div><div class="timeline-content" data-v-24fa8498><h4 data-v-24fa8498>规模扩张</h4><p data-v-24fa8498>开设10家连锁门店，服务更多客户</p></div></div><div class="timeline-item" data-v-24fa8498><div class="timeline-year" data-v-24fa8498>2022</div><div class="timeline-content" data-v-24fa8498><h4 data-v-24fa8498>品牌升级</h4><p data-v-24fa8498>全面升级品牌形象，提升服务品质</p></div></div><div class="timeline-item" data-v-24fa8498><div class="timeline-year" data-v-24fa8498>2024</div><div class="timeline-content" data-v-24fa8498><h4 data-v-24fa8498>创新发展</h4><p data-v-24fa8498>启动线上业务，拓展全国市场</p></div></div></div></div><div class="team-section" data-v-24fa8498><div class="section-header" data-v-24fa8498><h2 data-v-24fa8498>核心团队</h2><p data-v-24fa8498>专业的团队，用心的服务</p></div><div class="team-members" data-v-24fa8498><div class="team-member" data-v-24fa8498><div class="member-avatar" data-v-24fa8498><img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=400&amp;q=80" alt="创始人" data-v-24fa8498></div><h4 data-v-24fa8498>张美丽</h4><p class="member-position" data-v-24fa8498>创始人 &amp; 首席甜品师</p><p class="member-desc" data-v-24fa8498>拥有15年甜品制作经验，对甜品有着独特的热爱和理解</p></div><div class="team-member" data-v-24fa8498><div class="member-avatar" data-v-24fa8498><img src="https://images.unsplash.com/photo-1577219491135-ce391730fb2c?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=400&amp;q=80" alt="研发总监" data-v-24fa8498></div><h4 data-v-24fa8498>李创意</h4><p class="member-position" data-v-24fa8498>研发总监</p><p class="member-desc" data-v-24fa8498>专注于新品研发，不断探索甜品制作的无限可能</p></div><div class="team-member" data-v-24fa8498><div class="member-avatar" data-v-24fa8498><img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=400&amp;q=80" alt="运营经理" data-v-24fa8498></div><h4 data-v-24fa8498>王服务</h4><p class="member-position" data-v-24fa8498>运营经理</p><p class="member-desc" data-v-24fa8498>致力于为客户提供最优质的服务体验</p></div></div></div><div class="contact-section" data-v-24fa8498><div class="contact-content" data-v-24fa8498><div class="contact-info" data-v-24fa8498><h3 data-v-24fa8498>联系我们</h3><div class="contact-item" data-v-24fa8498><div class="contact-icon" data-v-24fa8498>📍</div><div class="contact-detail" data-v-24fa8498><strong data-v-24fa8498>地址</strong><p data-v-24fa8498>北京市朝阳区甜品大道88号</p></div></div><div class="contact-item" data-v-24fa8498><div class="contact-icon" data-v-24fa8498>📞</div><div class="contact-detail" data-v-24fa8498><strong data-v-24fa8498>电话</strong><p data-v-24fa8498>400-888-9999</p></div></div><div class="contact-item" data-v-24fa8498><div class="contact-icon" data-v-24fa8498>✉️</div><div class="contact-detail" data-v-24fa8498><strong data-v-24fa8498>邮箱</strong><p data-v-24fa8498>contact@sweetcake.com</p></div></div><div class="contact-item" data-v-24fa8498><div class="contact-icon" data-v-24fa8498>🕒</div><div class="contact-detail" data-v-24fa8498><strong data-v-24fa8498>营业时间</strong><p data-v-24fa8498>周一至周日 9:00-21:00</p></div></div></div><div class="contact-map" data-v-24fa8498><div class="map-placeholder" data-v-24fa8498><div class="map-icon" data-v-24fa8498>🗺️</div><p data-v-24fa8498>地图位置</p></div></div></div></div>',5)])))}};const Nt=(0,z.A)(Xt,[["__scopeId","data-v-24fa8498"]]);var St=Nt;const Ut={class:"payment-container"},jt={class:"order-header"},qt={class:"order-info"},Pt={class:"order-amount"},zt={class:"amount"},Dt={class:"countdown-section"},Tt={class:"countdown-timer"},Qt={class:"time-unit"},Bt={class:"time-unit"},Mt={class:"time-unit"},Gt={class:"payment-methods"},Jt={class:"payment-options"},Ot={key:0,class:"password-section"},Ht={class:"password-input-container"},$t={key:0,class:"password-mask"},Yt={class:"payment-actions"},Zt={class:"cancel-dialog-content"},es={class:"dialog-footer"};var as={__name:"PaymentPage",setup(e){const a=(0,t.lq)(),l=(0,t.rd)(),i=(0,n.KR)({id:"",orderNo:"",totalAmount:"0.00"}),c=(0,n.KR)(1),r=(0,n.KR)(""),u=(0,n.KR)(!1),v=(0,n.KR)(!1),p=(0,n.Kh)({hours:"00",minutes:"00",seconds:"00"}),m=(0,n.KR)(!1),k=(0,n.KR)(!1),f=(0,n.KR)(!1),b=(0,n.KR)(),g=(0,n.Kh)({cancelReason:"",otherReason:""}),h=[{value:"change_mind",label:"不想买了"},{value:"wrong_info",label:"信息填写错误"},{value:"found_cheaper",label:"发现更便宜的商品"},{value:"out_of_stock",label:"商品缺货"},{value:"delivery_issue",label:"配送时间不合适"},{value:"payment_issue",label:"支付遇到问题"},{value:"timeout",label:"支付超时"},{value:"other",label:"其他原因"}],_={cancelReason:[{required:!0,message:"请选择取消原因",trigger:"change"}],otherReason:[{required:!0,message:"请输入其他原因",trigger:"blur"}]};let y=null;const w=(0,n.KR)(1800),F=(0,s.EW)(()=>i.value.id&&w.value>0),L=e=>{r.value=e},C=()=>{v.value=!v.value},V=()=>{u.value?K():(u.value=!0,setTimeout(()=>{const e=document.querySelector(".password-input input");e&&e.focus()},100))},R=()=>{g.cancelReason="",g.otherReason="",f.value=!0},x=()=>{k.value||(f.value=!1)},W=async()=>{if(g.cancelReason)if("other"!==g.cancelReason||g.otherReason){k.value=!0;try{const e={id:i.value.id,cancelReason:"other"===g.cancelReason?g.otherReason:h.find(e=>e.value===g.cancelReason)?.label};console.log("发送取消订单请求:",e),await Ia(e),o.nk.success("订单已取消"),f.value=!1,l.push("/order")}catch(e){console.error("取消订单失败:",e),o.nk.error("取消订单失败，请重试")}finally{k.value=!1}}else o.nk.error("请输入其他原因");else o.nk.error("请选择取消原因")},A=()=>{y=setInterval(()=>{if(w.value<=0)return clearInterval(y),void I();w.value--,E()},1e3)},E=()=>{const e=Math.floor(w.value/3600),a=Math.floor(w.value%3600/60),l=w.value%60;p.hours=e.toString().padStart(2,"0"),p.minutes=a.toString().padStart(2,"0"),p.seconds=l.toString().padStart(2,"0")},I=async()=>{try{if(i.value.id){const e={id:i.value.id,cancelReason:"支付超时自动取消"};await Ia(e)}o.nk.warning("订单支付超时，已自动取消"),l.push("/order")}catch(e){console.error("取消订单失败:",e),l.push("/order")}},K=async()=>{if(i.value.id)if(w.value<=0)o.nk.error("订单已超时，无法支付");else if(r.value)if(r.value.length<6)o.nk.error("支付密码至少6位");else{m.value=!0;try{const e={id:i.value.id,payMethod:c.value,totalAmount:i.value.totalAmount,password:r.value};console.log("发送支付请求:",e);const a=await Ea(e);console.log("支付信息：",a),200===a.code?(o.nk.success("支付成功！"),l.push("/order")):(o.nk.error(a.message||"支付失败，请检查密码是否正确"),r.value="",setTimeout(()=>{const e=document.querySelector(".password-input input");e&&e.focus()},100))}catch(e){console.error("支付请求失败:",e),o.nk.error("支付失败，请重试"),r.value=""}finally{m.value=!1}}else o.nk.error("请输入支付密码");else o.nk.error("订单信息异常，无法支付")},X=async()=>{const{orderId:e,orderNo:t,amount:s}=a.query;if(!e&&!t)return o.nk.error("订单信息不存在"),void l.back();i.value={id:e||"",orderNo:t||`ORDER${Date.now()}`,totalAmount:s||"0.00"}};return(0,s.sV)(()=>{X(),E(),A()}),(0,s.hi)(()=>{y&&clearInterval(y)}),(e,a)=>{const l=(0,s.g2)("el-icon"),t=(0,s.g2)("el-input"),o=(0,s.g2)("el-button"),y=(0,s.g2)("el-card"),w=(0,s.g2)("el-option"),A=(0,s.g2)("el-select"),E=(0,s.g2)("el-form-item"),I=(0,s.g2)("el-form"),X=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.CE)("div",Ut,[a[22]||(a[22]=(0,s.Fv)('<div class="progress-steps" data-v-5735aa47><div class="step completed" data-v-5735aa47><div class="step-circle" data-v-5735aa47>1</div><span class="step-text" data-v-5735aa47>我的购物车</span></div><div class="step completed" data-v-5735aa47><div class="step-circle" data-v-5735aa47>2</div><span class="step-text" data-v-5735aa47>填写核对订单信息</span></div><div class="step active" data-v-5735aa47><div class="step-circle" data-v-5735aa47>3</div><span class="step-text" data-v-5735aa47>成功提交订单</span></div></div>',1)),(0,s.bF)(y,{shadow:"never",class:"payment-card"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",jt,[(0,s.bF)(l,{class:"success-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.rW7))]),_:1}),(0,s.Lk)("div",qt,[a[7]||(a[7]=(0,s.Lk)("h3",null,"订单提交成功！请尽快完成支付",-1)),(0,s.Lk)("p",null,"订单号："+(0,d.v_)(i.value.orderNo),1),(0,s.Lk)("p",Pt,[a[6]||(a[6]=(0,s.eW)("应付金额：",-1)),(0,s.Lk)("span",zt,"¥"+(0,d.v_)(i.value.totalAmount),1)])])]),(0,s.Lk)("div",Dt,[a[10]||(a[10]=(0,s.Lk)("div",{class:"countdown-title"},"支付剩余时间",-1)),(0,s.Lk)("div",Tt,[(0,s.Lk)("span",Qt,(0,d.v_)(p.hours),1),a[8]||(a[8]=(0,s.Lk)("span",{class:"time-separator"}," ： ",-1)),(0,s.Lk)("span",Bt,(0,d.v_)(p.minutes),1),a[9]||(a[9]=(0,s.Lk)("span",{class:"time-separator"}," ： ",-1)),(0,s.Lk)("span",Mt,(0,d.v_)(p.seconds),1)]),a[11]||(a[11]=(0,s.Lk)("p",{class:"countdown-tip"},"请在倒计时结束前完成支付，超时订单将自动取消",-1))]),(0,s.Lk)("div",Gt,[a[14]||(a[14]=(0,s.Lk)("h4",null,"选择支付方式",-1)),(0,s.Lk)("div",Jt,[(0,s.Lk)("div",{class:(0,d.C4)(["payment-method",{active:1===c.value}]),onClick:a[0]||(a[0]=e=>c.value=1)},a[12]||(a[12]=[(0,s.Lk)("div",{class:"payment-icon wechat-icon"},"微",-1),(0,s.Lk)("span",null,"微信支付",-1)]),2),(0,s.Lk)("div",{class:(0,d.C4)(["payment-method",{active:2===c.value}]),onClick:a[1]||(a[1]=e=>c.value=2)},a[13]||(a[13]=[(0,s.Lk)("div",{class:"payment-icon alipay-icon"},"支",-1),(0,s.Lk)("span",null,"支付宝",-1)]),2)])]),u.value?((0,s.uX)(),(0,s.CE)("div",Ot,[a[15]||(a[15]=(0,s.Lk)("h4",null,"请输入支付密码",-1)),(0,s.Lk)("div",Ht,[(0,s.bF)(t,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value=e),type:v.value?"text":"password",placeholder:"请输入支付密码",maxlength:20,onInput:L,class:"password-input",disabled:m.value,onKeyup:(0,B.jR)(K,["enter"])},{suffix:(0,s.k6)(()=>[(0,s.bF)(l,{onClick:C,style:{cursor:"pointer"}},{default:(0,s.k6)(()=>[v.value?((0,s.uX)(),(0,s.Wv)((0,n.R1)(M.LdN),{key:1})):((0,s.uX)(),(0,s.Wv)((0,n.R1)(M.Ss2),{key:0}))]),_:1})]),_:1},8,["modelValue","type","disabled"]),v.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",$t,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value.length,e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"password-asterisk"},"*"))),128))]))]),a[16]||(a[16]=(0,s.Lk)("p",{class:"password-tip"},"请输入6-20位支付密码",-1))])):(0,s.Q3)("",!0),(0,s.Lk)("div",Yt,[(0,s.bF)(o,{onClick:R,class:"cancel-btn",loading:k.value},{default:(0,s.k6)(()=>a[17]||(a[17]=[(0,s.eW)(" 取消订单 ",-1)])),_:1,__:[17]},8,["loading"]),(0,s.bF)(o,{type:"primary",onClick:V,class:"pay-btn",loading:m.value,disabled:!F.value},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(u.value?"确认支付":"立即支付")+" ¥"+(0,d.v_)(i.value.totalAmount),1)]),_:1},8,["loading","disabled"])]),a[18]||(a[18]=(0,s.Lk)("div",{class:"order-tips"},[(0,s.Lk)("p",null,"当日配送订单，不可修改。非当日配送订单，需提前一天的20:00之前，可对部分订单内容进行修改")],-1))]),_:1,__:[18]}),(0,s.bF)(X,{modelValue:f.value,"onUpdate:modelValue":a[5]||(a[5]=e=>f.value=e),title:"取消订单",width:"500px","before-close":x},{footer:(0,s.k6)(()=>[(0,s.Lk)("div",es,[(0,s.bF)(o,{onClick:x,disabled:k.value},{default:(0,s.k6)(()=>a[20]||(a[20]=[(0,s.eW)(" 再想想 ",-1)])),_:1,__:[20]},8,["disabled"]),(0,s.bF)(o,{type:"primary",onClick:W,loading:k.value,disabled:!g.cancelReason},{default:(0,s.k6)(()=>a[21]||(a[21]=[(0,s.eW)(" 确定取消 ",-1)])),_:1,__:[21]},8,["loading","disabled"])])]),default:(0,s.k6)(()=>[(0,s.Lk)("div",Zt,[a[19]||(a[19]=(0,s.Lk)("p",{class:"cancel-tip"},"确定要取消这个订单吗？请选择取消原因：",-1)),(0,s.bF)(I,{model:g,rules:_,ref_key:"cancelFormRef",ref:b},{default:(0,s.k6)(()=>[(0,s.bF)(E,{prop:"cancelReason"},{default:(0,s.k6)(()=>[(0,s.bF)(A,{modelValue:g.cancelReason,"onUpdate:modelValue":a[3]||(a[3]=e=>g.cancelReason=e),placeholder:"请选择取消原因",class:"cancel-reason-select",size:"large"},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(h,e=>(0,s.bF)(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),"other"===g.cancelReason?((0,s.uX)(),(0,s.Wv)(E,{key:0,prop:"otherReason"},{default:(0,s.k6)(()=>[(0,s.bF)(t,{modelValue:g.otherReason,"onUpdate:modelValue":a[4]||(a[4]=e=>g.otherReason=e),type:"textarea",placeholder:"请输入其他原因",rows:3,maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})):(0,s.Q3)("",!0)]),_:1},8,["model"])])]),_:1},8,["modelValue"])])}}};const ls=(0,z.A)(as,[["__scopeId","data-v-5735aa47"]]);var ts=ls,ss="data:image/png;base64,UklGRugKAABXRUJQVlA4INwKAABwUwCdASraAVYBPp1MoU2lo6ciIZCIqOATiWlu4XYBH1Z60XpuY664fCvUxlvzvvUPNX50nnPQ8F57/xPbh/p+lu9ce22cm+538P15fxvebwAvW+6sgC/N/7T5730HmVpR/lHQnaH/q/gl/tiF/K83SRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx1gBGf/dHdXbYX9eeTZ3/DBffAvdi5d6YX0rMm9p7Dzcat8eV5NK1WmcOjlmd9LezgA5cu3U4dGnBZEc9+5b2PFdZVbwf6i7si2EBf7qUmZSezCTQjE7Wlzp7eQu90QfUpUPzbnDVySL7MGn8Gr/tDB+LGPEaNlzanXBpWfkook6v/UK+c/ITkz6oCXQw6Idm5BkfF1/65pA+egc1J/rohMIT3USfgilPq+d93zw01O8I/8qEUPM9qFfdaT5TAqr3TqoE4CLFhbvX1UM/H59XgPLWMUZXah0v/XFIKmijNvFt7liDacVsTXA2Qx+AGYjtQLXysLhGqq5QTikhOM4bLsAJtGjz9JAnNQB39mJsQaJ0DV/CLfW4RbIQMAvjyvNgOZgdq4c/6T6+VDTxOroY4Y1vKZLPdVCvR8AiQyNaOBsQAllsUo3kiA4t1K3x5YK3JDqDy1jHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPEaSMeI0kY8RpIx4jSRjxGkjHiNJGPCQAAP7/ojAAAAAAAABD9KQulKCiMs9A8DiqKMoKZTNL+o9QpbG0hKbtccY4oqEwAsLlIklBaZ7VhnR2Pd5YdJ0vm3Y07kgvCfP9jfMwqqZRoWvGuZ4kOtZrI5mH1ZdNUXTTFWXWI1ykwGwZ9+QxTqZp6mUTZrzc8MHn/YOaOKPvDfA0vIGaLpkqzKySFzrLNkfULOwvm1scXw8XNEnuYjxj5U2WfSkyplVdtnBegtmnf3vyRfQ3KUzBro94Vj72dPpK1TLLOxSBpFqIw3V8a82tyO7hAX1cOqv9g4Jkn9jGSHk3Nu6AAH0CeJQClTpwVyLQov6N+QY0Jz+HD/0P+qhWrzL/a7c+P082IBOf8oL51VUtD4aMlKe0MVf/gGQ0ndqTQojWsAAZgCAwqJ0OcIAWfvf83nG6/B7a/62u/cMcByhwPfZJ05w8oiiADg4oVH9ohT/DdumQVBw12AARQdqDdAzttQjKoca5L8lgGqXxZNM9Rl/03LvQ+bdSC9RTbk8syLvNk0VUjjfhQE8V14AlI668aG/58+IMvP0WNzsz4FzR3J+zzyDYJuN94WlY0PqCmyTniaZuit2iWHsQrGvrES+GIrnVvcwJuYOApX5GMjf7/R7hco6XPh9RgezTfIz8EAEkC1H6BJZvR0ZVgeaT0dJxTUtDYT9ljP2ql0sxUMVog0e0oy6YYoraD5vmiZ+Fq5UnnxWImei0nViBQM+aSyz0TnT/WMhKTFErw7+/rNHmgFXnN9U+jMj53BhtYvgt7drqJITnK91tEGNmG3Euu/Tp/xE+mX7y8lghe69JfwMYNVo6Df5bWl4sG1BMPTLlmdiUyMd7sntCxgMNe9Rv4Dv+J/pQZLPDPzSItol3Uu79zry8Hr1PPGh+h7l96ngSOma/p5Vu8T62Ka/yYAvnZ1jZ1mt2/pAAt4TOrBSj9uMy/iL0OEQmFfCpJoezPSExKxD5dn+wKxSIX8ZJfNGB2ijuTrmvtk/SuE473X/QYrlrwC8XlnAzz6d4P+ytVyUd71uHVHw/xRZoqxE0XC1+TfTQcblszFM+NAcK4iIRYPdj724ILitzMC+FE9x67RRuGTVoyp7wUQUm5Y1i/q5j+MCLppB4MMD0cDxeL+oGTCxP1+eskTq/rgG0afOTaAGACabhj7l5kmnG4Bm2wPpiBI7StjIZE4O+qZAmfDCVD0OV6zkqmuisnGFHfbgQ3eIYqstDOVp25q6i0sBPKZOVEQ2QurqqKXwnIlbpPCri2AjY2ANjMxgwz+/nAJSx7nodUT6t+psvOVrH3Mk4kBXJCrehSw6uGFoSzVP5wUjyEQ/J+jTxuVHhKyjzLcN2q4MwlTGujGzj0YzeomWLyEycyzLuiyaoFqZf1Gc2wS+avix4bjJ9i1B+UVT6X7kefHFg0sdf4LtH1fyXm6P5rT7YmFO2LbHvXPJ+W4kHTYhZBUIeepjlk7otM7FuCybEhryzF63wjTT0+RRSE2SBFx6dLSN5TL+h4qFjm9z+MwO7qUHyWJoApwlOguVJwrDmBE72WEVj8eQge9lomT/2vZqWqN1T52ZLHjJeeNJVdy3S5yq/tJ9A03BEtzs9rLiV9NK1pKCMD+Fr2s2mOw5exDYV6hoMcDd19bBBK0mLCi5/O+hB6KQiVxxoHgMmq1c/9s3jzaC8OawqtGyg45u+vHjvCW91MFIZzRJyv/lPP0Rql425VbodUrfPuQ2DVdc6GL6CfQbT+Ldv3EkjAivsarXM8FciVJ7EqfWIZyqa//+lzHc6oIABmGx0QQ1QIQKigBSEQVLrIVgu+H6oJ9AO4wp2LuSXI4Zg6uio6/Be4fCqjKLfcswuZ2zvSjeMlxOuSGaR0J9M1j/zQowcaW+XMF5hfFYKqGbQCFx1wzbxlgEw52x9opY4pg5hHJU3StkV4WUoK5WCyrifJFB97PtKtUxWPsI+BdlvFMaTTc5zAwxBnC7JH+poNiI/c18Dstzwy5LPEIioJCgAd8SdfGAkB/SQYMPY9vHER8qyHV8h+bV8xFNMJlAJhrbBXsN2ak9ntL+PM7d/n4kZAeAUrnq7KXZFzxrM4/nDwiDRBgQ009KhNiLGVe+q0xPHvYjjg4L4CPcVjZcY2RVckcFl0y526JrxoJXeJHVuHwtD6cDtP2gAqgwUBB46DkksHcuftPG/MtmCEs3gC9GyUo28Gu40iYJnXuH4fzfzgFdU45sWR6476J1eyKOKFCAWik7+lvn1YQAuL9FbrbS9yURhmSCJPv0co21Hcm6PbiWE0p0WLYOpdCWbCPCDqIjdVxNPnwtO4itaiCSo7ZQMNFThtVvdMWvymSpMgEZp9dAw0ivJR8Wb0yHwxIiE95qpAt7KZ+fFAvbiSxReqnJdP8u4zWa1hoAuZ+IUOagCzQfTQIT//EOR436pTmjZd0UV2Q+NKN3WoQQyGKlmqFnREuVA4zwOR2DMy48K4Z4V9/Ka8SK07iA+RWqHP/reh8PyW8N5e13KH8bFQOg/PHPu6iUtcQwjSJ8G2GAa4ORetWbaH6QNFfXQOPvlA6G5OIP16iksa4A+nWyI4Jzz8NspHR0Nbmzg7QbjGomx4/ggHNgJHXj78bXSrJUkHhk+g7S2HsmFJ9EjuwUoxmFphlOLAb7Tp0KtIkH/MIlpf3Dj/4DQsqxf0+c+XkgZSNRioR4cEGbPYtZ6dyytWzhN6ATfGTwB1zttpKjqJuiQpq+UIMB7iLjBgBEj9Vr1NdAPedBUAsy7MsLR+lXLZidbZabdVSFTGYkPwBdRDXS9RpNrAoISvn+QQgBZaAAAAAAAAAAAAA==",ds=l.p+"img/alipay.b26f02c3.png";const ns={class:"simple-payment-container"},os={class:"payment-content"},is={class:"order-info"},cs={class:"order-no"},rs={class:"order-amount"},us={class:"amount-value"},vs={class:"payment-options"},ps={class:"password-input-section"},ms={class:"password-input-container"},ks={class:"payment-actions"};var fs={__name:"SimplePayment",setup(e){const a=(0,t.lq)(),l=(0,t.rd)(),i=(0,n.KR)({id:"",orderNo:"",totalAmount:"0.00"}),c=(0,n.KR)(1),r=(0,n.KR)(""),u=(0,n.KR)(!1),v=(0,s.EW)(()=>i.value.id&&r.value.length>=6&&r.value.length<=20),p=async()=>{const{id:e,orderNo:t,amount:s}=a.query;if(!e&&!t)return o.nk.error("订单信息不存在"),void l.back();i.value={id:e||"",orderNo:t||`ORDER${Date.now()}`,totalAmount:s||"0.00"},console.log("订单信息：",i.value)},m=async()=>{if(i.value.id)if(r.value.length<6||r.value.length>20)o.nk.error("请输入6~20位支付密码");else{u.value=!0;try{const e={id:i.value.id,payMethod:c.value,totalAmount:i.value.totalAmount,password:r.value};console.log("发送支付请求:",e);const a=await Ea(e);200===a.code?(o.nk.success("支付成功！"),setTimeout(()=>{l.push("/order")},1500)):(o.nk.error(a.message||"支付失败，请检查密码是否正确"),r.value="")}catch(e){console.error("支付请求失败:",e),o.nk.error("支付失败，请重试"),r.value=""}finally{u.value=!1}}else o.nk.error("订单信息异常，无法支付")},k=()=>l.back();return(0,s.sV)(()=>p()),(e,a)=>{const l=(0,s.g2)("el-icon"),t=(0,s.g2)("el-card"),o=(0,s.g2)("el-input"),p=(0,s.g2)("el-button");return(0,s.uX)(),(0,s.CE)("div",ns,[(0,s.Lk)("div",os,[a[10]||(a[10]=(0,s.Lk)("div",{class:"payment-header"},[(0,s.Lk)("h2",null,"订单支付"),(0,s.Lk)("p",null,"请完成支付以确认订单")],-1)),(0,s.bF)(t,{class:"order-info-card"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",is,[(0,s.Lk)("div",cs,[(0,s.bF)(l,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,n.R1)(M.yoT))]),_:1}),(0,s.eW)(" 订单号："+(0,d.v_)(i.value.orderNo),1)]),(0,s.Lk)("div",rs,[a[3]||(a[3]=(0,s.Lk)("span",{class:"amount-label"},"应付金额：",-1)),(0,s.Lk)("span",us,"¥"+(0,d.v_)(i.value.totalAmount),1)])])]),_:1}),(0,s.bF)(t,{class:"payment-method-card"},{default:(0,s.k6)(()=>[a[6]||(a[6]=(0,s.Lk)("h3",null,"选择支付方式",-1)),(0,s.Lk)("div",vs,[(0,s.Lk)("div",{class:(0,d.C4)(["payment-option",{active:1===c.value}]),onClick:a[0]||(a[0]=e=>c.value=1)},a[4]||(a[4]=[(0,s.Lk)("img",{src:ss,alt:"微信支付"},null,-1),(0,s.Lk)("span",null,"微信支付",-1)]),2),(0,s.Lk)("div",{class:(0,d.C4)(["payment-option",{active:2===c.value}]),onClick:a[1]||(a[1]=e=>c.value=2)},a[5]||(a[5]=[(0,s.Lk)("img",{src:ds,alt:"支付宝"},null,-1),(0,s.Lk)("span",null,"支付宝",-1)]),2)])]),_:1,__:[6]}),(0,s.bF)(t,{class:"password-card"},{default:(0,s.k6)(()=>[a[8]||(a[8]=(0,s.Lk)("h3",null,"支付密码",-1)),(0,s.Lk)("div",ps,[(0,s.Lk)("div",ms,[(0,s.bF)(o,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value=e),type:"password",placeholder:"请输入6~20位支付密码",minlength:"6",maxlength:"20","show-password":"",class:"password-input",disabled:u.value,onKeyup:(0,B.jR)(m,["enter"])},null,8,["modelValue","disabled"])]),a[7]||(a[7]=(0,s.Lk)("p",{class:"password-tip"},"请输入6~20位数字或字母支付密码",-1))])]),_:1,__:[8]}),(0,s.Lk)("div",ks,[(0,s.bF)(p,{onClick:k,class:"back-btn",disabled:u.value},{default:(0,s.k6)(()=>a[9]||(a[9]=[(0,s.eW)(" 返回订单 ",-1)])),_:1,__:[9]},8,["disabled"]),(0,s.bF)(p,{type:"primary",onClick:m,class:"pay-btn",loading:u.value,disabled:!v.value},{default:(0,s.k6)(()=>[(0,s.eW)((0,d.v_)(u.value?"支付中...":`确认支付 ¥${i.value.totalAmount}`),1)]),_:1},8,["loading","disabled"])])])])}}};const bs=(0,z.A)(fs,[["__scopeId","data-v-2145b80b"]]);var gs=bs;const hs=[{path:"/home",name:"home",component:T,meta:{title:"首页"}},{path:"/cakes",name:"Cakes",component:()=>l.e(334).then(l.bind(l,4334)),meta:{title:"蛋糕甄选"}},{path:"/desserts",name:"desserts",component:Ce,meta:{title:"甜品优享"}},{path:"/pet",name:"pet",component:Me,meta:{title:"宠物蛋糕"}},{path:"/cake/:id",name:"CakeDetail",component:()=>l.e(30).then(l.bind(l,7030)),props:!0},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:()=>Promise.resolve().then(l.bind(l,3407))},{path:"/register",name:"Register",component:()=>l.e(64).then(l.bind(l,64))},{path:"/cart",name:"Cart",component:fa,meta:{title:"购物车"}},{path:"/search",name:"Search",component:xa,meta:{title:"搜索结果"}},{path:"/checkout",name:"Name",component:Za,meta:{title:"生成订单"}},{path:"/order",name:"order",component:Jl,meta:{title:"我的订单"}},{path:"/person",name:"person",component:xt,meta:{title:"个人中心"}},{path:"/cooperation",name:"cooperation",component:It,meta:{title:"合作专区"}},{path:"/us",name:"us",component:St,meta:{title:"关于我们"}},{path:"/pay",name:"pay",component:ts,meta:{title:"订单支付"}},{path:"/simplePay",name:"simplePay",component:gs,meta:{title:"订单支付"}}],_s=(0,t.aE)({history:(0,t.LA)("/"),routes:hs,scrollBehavior(e,a,l){return{top:0}}});_s.beforeEach((e,a,l)=>{document.title=e.meta.title||"金苹果烘培",l()}),_s.beforeEach((e,a,l)=>{const t=(0,Q.k)();e.meta.requiresAuth&&!t.token?l("/login"):e.meta.requiresGuest&&t.token?l("/"):l()});var ys=_s},3407:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var t=l(6768),s=l.p+"img/icon_logo.4a65623c.png",d=l(144),n=l(1387),o=l(1219),i=l(5720),c=l(798);const r={class:"login-container"},u={class:"login-wrapper"};var v={__name:"LoginView",setup(e){const a=(0,n.rd)(),l=(0,d.KR)({name:"admin",password:"123456"}),v={name:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]},p=(0,d.KR)(!1),m=(0,d.KR)({name:"",password:""}),k={name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:16,message:"长度在3到16个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在6到20个字符",trigger:"blur"}]},f=(0,d.KR)(null),b=(0,d.KR)(null),g=e=>{f.value.validate(e=>{e&&i.A.post("/login",{name:l.value.name,password:l.value.password}).then(e=>{200===e.code?(sessionStorage.setItem("user",e.data.name),sessionStorage.setItem("token",e.data.token),localStorage.setItem("token",e.data.token),(0,c.k)().setUser({token:e.data.token,userInfo:{name:l.value.name}}),(0,o.nk)({message:"登录成功",type:"success",center:!0,duration:1500,onClose:()=>{a.replace("/home")}})):o.nk.error(e.msg||"登录失败")}).catch(e=>{o.nk.error("登录失败: "+e.message)})})},h=()=>{b.value.validate(e=>{e&&i.A.post("/register",{name:m.value.name,password:m.value.password}).then(e=>{200===e.code?(o.nk.success("注册成功"),l.value.name=m.value.name,l.value.password=m.value.password,m.value={name:"",password:""},p.value=!1):o.nk.error(e.msg||"注册失败")}).catch(e=>{o.nk.error("注册失败: "+e.message)})})};return(e,a)=>{const d=(0,t.g2)("el-input"),n=(0,t.g2)("el-form-item"),o=(0,t.g2)("el-button"),i=(0,t.g2)("el-form"),c=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.CE)("div",r,[a[14]||(a[14]=(0,t.Lk)("div",{class:"background-image"},null,-1)),(0,t.Lk)("div",u,[a[11]||(a[11]=(0,t.Lk)("div",{class:"logo-container"},[(0,t.Lk)("img",{src:s,alt:"蛋糕店Logo",class:"logo"})],-1)),(0,t.bF)(i,{model:l.value,rules:v,"label-width":"80px",class:"login-box",ref_key:"loginForm",ref:f},{default:(0,t.k6)(()=>[a[10]||(a[10]=(0,t.Lk)("h3",{class:"login-title"},"欢迎来到金苹果烘培",-1)),(0,t.bF)(n,{label:"用户名",prop:"name"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{"prefix-icon":"el-icon-user",type:"text",placeholder:"请输入账号",modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.name=e),class:"custom-input"},null,8,["modelValue"])]),_:1}),(0,t.bF)(n,{label:"密码",prop:"password"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{"prefix-icon":"el-icon-lock",type:"password",placeholder:"请输入密码",modelValue:l.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.password=e),class:"custom-input","show-password":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(n,{class:"button-group"},{default:(0,t.k6)(()=>[(0,t.bF)(o,{type:"primary",onClick:a[2]||(a[2]=e=>g("loginForm")),class:"login-btn"},{default:(0,t.k6)(()=>a[8]||(a[8]=[(0,t.eW)(" 登录 ",-1)])),_:1,__:[8]}),(0,t.bF)(o,{plain:"",onClick:a[3]||(a[3]=e=>p.value=!0),class:"register-btn"},{default:(0,t.k6)(()=>a[9]||(a[9]=[(0,t.eW)(" 注册 ",-1)])),_:1,__:[9]})]),_:1})]),_:1,__:[10]},8,["model"])]),(0,t.bF)(c,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=e=>p.value=e),title:"用户注册",width:"400px","close-on-click-modal":!1,center:"",class:"register-dialog"},{footer:(0,t.k6)(()=>[(0,t.bF)(o,{onClick:a[6]||(a[6]=e=>p.value=!1),class:"dialog-cancel-btn"},{default:(0,t.k6)(()=>a[12]||(a[12]=[(0,t.eW)("取消",-1)])),_:1,__:[12]}),(0,t.bF)(o,{type:"primary",onClick:h,class:"dialog-confirm-btn"},{default:(0,t.k6)(()=>a[13]||(a[13]=[(0,t.eW)("注册",-1)])),_:1,__:[13]})]),default:(0,t.k6)(()=>[(0,t.bF)(i,{model:m.value,rules:k,ref_key:"registerFormRef",ref:b,"label-width":"80px"},{default:(0,t.k6)(()=>[(0,t.bF)(n,{label:"用户名",prop:"name"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{modelValue:m.value.name,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value.name=e),placeholder:"请输入用户名","prefix-icon":"el-icon-user",class:"register-input"},null,8,["modelValue"])]),_:1}),(0,t.bF)(n,{label:"密码",prop:"password"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{modelValue:m.value.password,"onUpdate:modelValue":a[5]||(a[5]=e=>m.value.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":"",class:"register-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},p=l(1241);const m=(0,p.A)(v,[["__scopeId","data-v-055c236c"]]);var k=m},4323:function(e,a,l){l.d(a,{A:function(){return y}});l(4114),l(8111),l(116);var t=l(6768),s=l(144),d=l(4232),n=l(1219),o=l(798),i=l(7477),c=l(842);const r={class:"form-section"},u={class:"form-grid"},v={class:"form-section spec-section"},p={class:"form-section image-section"},m={class:"upload-content"},k={key:0,class:"image-preview"},f={class:"preview-wrapper"},b=["src"];var g={__name:"CakeForm",props:{isEdit:{type:Boolean,default:!0},cakeId:{type:Number,default:null}},emits:["submit","cancel"],setup(e,{expose:a,emit:l}){const g=(0,s.KR)([]),h=async()=>{try{const e=await(0,c.$i)();g.value=e.data}catch(e){n.nk.error("获取口味列表失败")}};(0,t.sV)(h);const _=(0,t.EW)(()=>g.value.find(e=>e.id===W.value.tasteId)),y=e=>{W.value={...V,...e}};a({setFormData:y});const w=e,F=l,L=(0,s.KR)(null),C=(0,o.k)(),V={id:null,name:"",tasteId:null,sweet:3,description:"",image:"",specs:[{id:null,number:"1-2人食",price:198,length:15,width:15,weight:500}]},R=()=>{W.value.specs.push({number:"",price:198,length:15,width:15,weight:500})},x=e=>{W.value.specs.length<=1?n.nk.warning("至少保留一个规格"):W.value.specs.splice(e,1)},W=(0,s.KR)({...V}),A=async e=>{try{0===g.value.length&&await h();const a=await(0,c.getCakeDetail)(e);W.value={...V,...a.data,tasteId:a.data.tasteId},console.log("当前蛋糕数据:",W.value)}catch(a){n.nk.error("获取蛋糕详情失败"),console.error(a)}},E=(0,t.EW)(()=>w.isEdit),I=()=>{W.value={...V}};(0,t.wB)(()=>w.cakeId,async e=>{e?await A(e):I()},{immediate:!0});const K=()=>{L.value.validate(e=>{if(e){const e=JSON.parse(JSON.stringify(W.value));F("submit",e)}})},X=(0,t.EW)(()=>({token:`${C.token}`})),N=e=>{const a=e.type.startsWith("image/"),l=e.size/1024/1024<2;return a?!!l||(n.nk.error("图片大小不能超过2MB!"),!1):(n.nk.error("只能上传图片文件!"),!1)},S=(0,s.KR)({type:"cake"}),U=e=>{200===e.code?(W.value.image=e.data,n.nk.success("上传成功")):n.nk.error(e.message||"上传失败")},j=()=>{n.nk.error("上传失败，请重试")},q=()=>{W.value.image=""};return(e,a)=>{const l=(0,t.g2)("el-input"),n=(0,t.g2)("el-form-item"),o=(0,t.g2)("el-option"),c=(0,t.g2)("el-select"),h=(0,t.g2)("el-rate"),y=(0,t.g2)("el-table-column"),w=(0,t.g2)("el-input-number"),C=(0,t.g2)("el-button"),V=(0,t.g2)("el-table"),A=(0,t.g2)("el-icon"),I=(0,t.g2)("el-upload"),P=(0,t.g2)("el-form");return(0,t.uX)(),(0,t.Wv)(P,{ref_key:"formRef",ref:L,model:W.value,"label-width":"100px","label-position":"top",class:"cake-form"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[a[5]||(a[5]=(0,t.Lk)("div",{class:"section-title"},"蛋糕信息",-1)),(0,t.Lk)("div",u,[(0,t.bF)(n,{label:"蛋糕名称",prop:"name",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(l,{modelValue:W.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>W.value.name=e),placeholder:"请输入蛋糕名称"},null,8,["modelValue"])]),_:1}),(0,t.bF)(n,{label:"口味",prop:"tasteId",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(c,{modelValue:W.value.tasteId,"onUpdate:modelValue":a[1]||(a[1]=e=>W.value.tasteId=e),placeholder:"请选择口味",style:{width:"100%"}},{default:(0,t.k6)(()=>[W.value.tasteId&&_.value?((0,t.uX)(),(0,t.Wv)(o,{key:_.value.id,label:_.value.flavor,value:_.value.id,style:{display:"none"}},null,8,["label","value"])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(g.value,e=>((0,t.uX)(),(0,t.Wv)(o,{key:e.id,label:e.flavor,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(n,{label:"甜度",prop:"sweet",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:W.value.sweet,"onUpdate:modelValue":a[2]||(a[2]=e=>W.value.sweet=e),max:5,colors:["#E8E8E8","#F0D9A7","#d6bb70"],"void-color":"#F5F5F5","show-text":"",texts:["1分","2分","3分","4分","5分"],class:"sweet-rate"},null,8,["modelValue"])]),_:1})]),(0,t.bF)(n,{label:"描述",prop:"description",class:"description-item"},{default:(0,t.k6)(()=>[(0,t.bF)(l,{modelValue:W.value.description,"onUpdate:modelValue":a[3]||(a[3]=e=>W.value.description=e),type:"textarea",rows:"4",placeholder:"请输入蛋糕描述信息",resize:"none"},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",v,[a[7]||(a[7]=(0,t.Lk)("div",{class:"section-title"},"商品规格",-1)),(0,t.bF)(V,{data:W.value.specs,border:"",class:"spec-table"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{label:"规格名称",width:"180"},{default:(0,t.k6)(({row:e,$index:a})=>[(0,t.bF)(n,{prop:`specs.${a}.number`,rules:{required:!0,message:"请输入规格名称",trigger:"blur"},class:"table-form-item"},{default:(0,t.k6)(()=>[(0,t.bF)(l,{modelValue:e.number,"onUpdate:modelValue":a=>e.number=a,placeholder:"如：2-4人食"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,t.bF)(y,{label:"价格(元)",width:"150"},{default:(0,t.k6)(({row:e,$index:a})=>[(0,t.bF)(n,{prop:`specs.${a}.price`,rules:{required:!0,message:"请输入价格",trigger:"blur"},class:"table-form-item"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{modelValue:e.price,"onUpdate:modelValue":a=>e.price=a,min:0,precision:2,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,t.bF)(y,{label:"重量(g)",width:"150"},{default:(0,t.k6)(({row:e,$index:a})=>[(0,t.bF)(n,{prop:`specs.${a}.weight`,rules:{required:!0,message:"请输入重量",trigger:"blur"},class:"table-form-item"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{modelValue:e.weight,"onUpdate:modelValue":a=>e.weight=a,min:100,step:50,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,t.bF)(y,{label:"长度(cm)",width:"150"},{default:(0,t.k6)(({row:e,$index:a})=>[(0,t.bF)(n,{prop:`specs.${a}.length`,rules:{required:!0,message:"请输入长度",trigger:"blur"},class:"table-form-item"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{modelValue:e.length,"onUpdate:modelValue":a=>e.length=a,min:1,precision:1,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,t.bF)(y,{label:"宽度(cm)",width:"150"},{default:(0,t.k6)(({row:e,$index:a})=>[(0,t.bF)(n,{prop:`specs.${a}.width`,rules:{required:!0,message:"请输入宽度",trigger:"blur"},class:"table-form-item"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{modelValue:e.width,"onUpdate:modelValue":a=>e.width=a,min:1,precision:1,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:1}),(0,t.bF)(y,{label:"操作",width:"100",align:"center"},{default:(0,t.k6)(({$index:e})=>[W.value.specs.length>1?((0,t.uX)(),(0,t.Wv)(C,{key:0,type:"danger",size:"small",icon:(0,s.R1)(i.epd),circle:"",onClick:a=>x(e)},null,8,["icon","onClick"])):(0,t.Q3)("",!0)]),_:1})]),_:1},8,["data"]),(0,t.bF)(C,{type:"primary",icon:(0,s.R1)(i.FWt),onClick:R,class:"add-spec-btn"},{default:(0,t.k6)(()=>a[6]||(a[6]=[(0,t.eW)(" 添加规格 ",-1)])),_:1,__:[6]},8,["icon"])]),(0,t.Lk)("div",p,[a[11]||(a[11]=(0,t.Lk)("div",{class:"section-title"},"蛋糕图片",-1)),(0,t.bF)(n,{class:"image-upload-item"},{default:(0,t.k6)(()=>[(0,t.bF)(I,{action:"/api/common/upload",headers:X.value,data:S.value,"on-success":U,"on-error":j,"before-upload":N,"show-file-list":!1,accept:"image/*",class:"upload-area"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",m,[(0,t.bF)(A,{class:"upload-icon"},{default:(0,t.k6)(()=>[(0,t.bF)((0,s.R1)(i.VIg))]),_:1}),a[8]||(a[8]=(0,t.Lk)("div",{class:"upload-text"},"点击上传蛋糕图片",-1)),a[9]||(a[9]=(0,t.Lk)("div",{class:"upload-tip"},"支持JPG/PNG格式，大小不超过2MB",-1))])]),_:1},8,["headers","data"]),W.value.image?((0,t.uX)(),(0,t.CE)("div",k,[a[10]||(a[10]=(0,t.Lk)("div",{class:"preview-title"},"当前图片：",-1)),(0,t.Lk)("div",f,[(0,t.Lk)("img",{src:W.value.image,alt:"预览图片",class:"preview-image"},null,8,b),(0,t.bF)(C,{class:"delete-btn",type:"danger",size:"small",icon:(0,s.R1)(i.epd),circle:"",onClick:q},null,8,["icon"])])])):(0,t.Q3)("",!0)]),_:1})]),(0,t.bF)(n,{class:"form-actions"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{type:"primary",onClick:K,class:"submit-btn"},{default:(0,t.k6)(()=>[(0,t.eW)((0,d.v_)(E.value?"更新蛋糕":"新增蛋糕"),1)]),_:1}),(0,t.bF)(C,{onClick:a[4]||(a[4]=e=>F("cancel")),class:"cancel-btn"},{default:(0,t.k6)(()=>a[12]||(a[12]=[(0,t.eW)("取消",-1)])),_:1,__:[12]})]),_:1})]),_:1},8,["model"])}}},h=l(1241);const _=(0,h.A)(g,[["__scopeId","data-v-1e4aefda"]]);var y=_},5322:function(e,a,l){l.d(a,{A:function(){return q}});l(8111),l(116),l(1701);var t=l(6768),s=l(4232),d=l(5130),n=l(144),o=l(1543),i=l(1219),c=(l(2933),l.p+"img/default-cake.eb0010fb.jpg");const r={class:"image-container"},u=["src"],v={key:0,class:"tags-container"},p={class:"cake-info"},m={class:"name-section"},k={class:"cake-name"},f={class:"action-buttons"},b={class:"price-section"},g={class:"price-main"},h={class:"current-price"},_={class:"weight"},y={class:"spec-dialog-content"},w={class:"spec-list"},F=["onClick"],L={class:"spec-info"},C={class:"spec-name"},V={class:"spec-price"},R={class:"spec-details"},x={key:0},W={key:1},A={key:0,class:"spec-features"},E={key:0,class:"quantity-selector"},I={key:1,class:"selected-spec-info"},K={class:"total-price"},X={class:"price"},N={class:"spec-summary"};var S={__name:"CakeCard",props:{cake:{type:Object,required:!0,default:()=>({id:"",name:"未命名蛋糕",image:"",tags:[],specs:[],description:""})}},emits:["delete","add-to-cart"],setup(e,{emit:a}){const l=a,S=e,U=(0,o.x)(),j=(0,n.KR)(!1),q=(0,n.KR)(null),P=(0,n.KR)(1),z=(0,t.EW)(()=>S.cake.specs?.find(e=>e.id===q.value)),D=(0,t.EW)(()=>z.value?z.value.price*P.value:0),T=(0,t.EW)(()=>S.cake.specs&&0!==S.cake.specs.length?Math.min(...S.cake.specs.map(e=>e.price)):0),Q=(0,t.EW)(()=>S.cake.specs?.length||0),B=e=>e?e.startsWith("http")?e:`${e}`:c,M=e=>{e.target.src=c},G=e=>{q.value=e.id},J=async()=>{if(!z.value)return void i.nk.warning("请选择规格");const e={productId:S.cake.id,name:S.cake.name,image:B(S.cake.image),number:z.value.number,num:P.value,amount:z.value.price};try{await U.addItem(e),i.nk.success("已加入购物车"),j.value=!1,q.value=null,P.value=1,l("add-to-cart",e)}catch(a){i.nk.error("添加购物车失败")}};return(a,l)=>{const n=(0,t.g2)("el-tag"),o=(0,t.g2)("el-button"),i=(0,t.g2)("el-input-number"),c=(0,t.g2)("el-dialog"),S=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.Wv)(S,{class:"cake-card","body-style":{padding:"0px"}},{default:(0,t.k6)(()=>[(0,t.Lk)("div",r,[(0,t.Lk)("img",{src:B(e.cake.image),class:"cake-image",onError:M,alt:"蛋糕图片"},null,40,u),e.cake.tags?.length?((0,t.uX)(),(0,t.CE)("div",v,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.cake.tags,e=>((0,t.uX)(),(0,t.Wv)(n,{key:e,size:"small",class:"tag-item"},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(e),1)]),_:2},1024))),128))])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",p,[(0,t.Lk)("div",m,[(0,t.Lk)("h3",k,(0,s.v_)(e.cake.name),1),(0,t.Lk)("div",f,[(0,t.RG)(a.$slots,"actions")])]),(0,t.Lk)("div",b,[(0,t.Lk)("div",g,[(0,t.Lk)("span",h,"¥"+(0,s.v_)(T.value.toFixed(2)),1),l[4]||(l[4]=(0,t.Lk)("span",{class:"from-text"},"起",-1))]),(0,t.Lk)("span",_,(0,s.v_)(Q.value)+"种规格",1)]),(0,t.bF)(o,{type:"primary",class:"add-cart-btn",onClick:l[0]||(l[0]=(0,d.D$)(e=>j.value=!0,["stop"]))},{default:(0,t.k6)(()=>l[5]||(l[5]=[(0,t.Lk)("i",{class:"el-icon-shopping-cart-1"},null,-1),(0,t.eW)(" 加入购物车 ",-1)])),_:1,__:[5]})]),(0,t.bF)(c,{modelValue:j.value,"onUpdate:modelValue":l[3]||(l[3]=e=>j.value=e),title:`选择${e.cake.name}规格`,width:"500px","append-to-body":"",class:"golden-dialog"},{footer:(0,t.k6)(()=>[(0,t.bF)(o,{onClick:l[2]||(l[2]=e=>j.value=!1),class:"cancel-btn"},{default:(0,t.k6)(()=>l[8]||(l[8]=[(0,t.eW)("取消",-1)])),_:1,__:[8]}),(0,t.bF)(o,{type:"primary",disabled:!z.value,onClick:J,class:"confirm-btn"},{default:(0,t.k6)(()=>l[9]||(l[9]=[(0,t.eW)(" 确认加入购物车 ",-1)])),_:1,__:[9]},8,["disabled"])]),default:(0,t.k6)(()=>[(0,t.Lk)("div",y,[(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.cake.specs,e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:(0,s.C4)(["spec-item",{active:q.value===e.id}]),onClick:a=>G(e)},[(0,t.Lk)("div",L,[(0,t.Lk)("span",C,(0,s.v_)(e.number),1),(0,t.Lk)("span",V,"¥"+(0,s.v_)(e.price.toFixed(2)),1)]),(0,t.Lk)("div",R,[e.weight?((0,t.uX)(),(0,t.CE)("span",x,"约"+(0,s.v_)(e.weight)+"g",1)):(0,t.Q3)("",!0),e.length&&e.width?((0,t.uX)(),(0,t.CE)("span",W," 约"+(0,s.v_)(e.length)+"×"+(0,s.v_)(e.width)+"cm ",1)):(0,t.Q3)("",!0)]),e.features?((0,t.uX)(),(0,t.CE)("div",A,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.features,e=>((0,t.uX)(),(0,t.Wv)(n,{key:e,size:"mini",class:"feature-tag"},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(e),1)]),_:2},1024))),128))])):(0,t.Q3)("",!0)],10,F))),128))]),z.value?((0,t.uX)(),(0,t.CE)("div",E,[l[6]||(l[6]=(0,t.Lk)("span",{class:"quantity-label"},"数量：",-1)),(0,t.bF)(i,{modelValue:P.value,"onUpdate:modelValue":l[1]||(l[1]=e=>P.value=e),min:1,max:99,size:"small",class:"golden-input"},null,8,["modelValue"])])):(0,t.Q3)("",!0),z.value?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.Lk)("div",K,[l[7]||(l[7]=(0,t.eW)(" 总计：",-1)),(0,t.Lk)("span",X,"¥"+(0,s.v_)(D.value.toFixed(2)),1)]),(0,t.Lk)("div",N," 已选择："+(0,s.v_)(z.value.number)+" × "+(0,s.v_)(P.value),1)])):(0,t.Q3)("",!0)])]),_:1},8,["modelValue","title"])]),_:3})}}},U=l(1241);const j=(0,U.A)(S,[["__scopeId","data-v-e1329f96"]]);var q=j},5720:function(e,a,l){l(4114);var t=l(4373),s=l(1671),d=l(1219),n=l(798);const o=t.A.create({baseURL:"http://localhost:8082",timeout:3e4,withCredentials:!0}),i=window.onerror;window.onerror=function(e,a,l,t,s){return!!e.includes("ResizeObserver")||i?.apply(this,arguments)},o.interceptors.request.use(e=>{e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json;charset=utf-8");const a=localStorage.getItem("token")||sessionStorage.getItem("token");return console.log("token:",a),console.log("[Token 检查] sessionStorage:",sessionStorage.getItem("token")),console.log("[Token 检查] localStorage:",localStorage.getItem("token")),a&&(e.headers["token"]=a,console.log("最终请求头配置:",JSON.parse(JSON.stringify(e.headers)))),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>{let a=e.data;return"blob"===e.config.responseType||"string"===typeof a&&(a=a?JSON.parse(a):a),a},e=>{const{response:a}=e,l=(0,n.k)();return a&&401===a.status?(l.clearUser(),d.nk.error("登录已过期，请重新登录"),s.A.push("/login"),Promise.reject(new Error("登录已过期"))):(a&&a.data&&a.data.message?d.nk.error(a.data.message):d.nk.error(e.message||"请求失败"),Promise.reject(e))}),a.A=o},5844:function(e,a,l){l.d(a,{L4:function(){return o},bE:function(){return s},fL:function(){return i},iH:function(){return n},je:function(){return d},sX:function(){return c}});var t=l(5720);function s(e){return(0,t.A)({url:"/shoppingCart/add",method:"put",data:e})}function d(){return(0,t.A)({url:"/shoppingCart/list",method:"get"})}function n(e){return(0,t.A)({url:"/shoppingCart/update",method:"post",data:e})}function o(e){return(0,t.A)({url:`/shoppingCart/remove/${e}`,method:"delete"})}function i(e){return(0,t.A)({url:"/shoppingCart/batchRemove",method:"delete",data:e})}function c(){return(0,t.A)({url:"/shoppingCart/clearCart",method:"delete"})}},6091:function(e,a,l){var t=l(5130),s=l(6768),d=l(144),n=l(1387),o=l(5320),i=(l(4114),l.p+"img/logo.4a65623c.png"),c=l(798),r=l(7477),u=l(1219),v=l(5720);const p=()=>v.A.post("/logout"),m={class:"nav-container"},k={class:"nav-content"},f={class:"main-menu"},b={class:"action-icons"},g={class:"icon-item"};var h={__name:"NavBar",setup(e){const a=(0,n.rd)(),l=(0,d.KR)("/"),o=(0,d.KR)(0),v=(0,d.KR)(!1),h=(0,d.KR)(""),_=(0,c.k)(),y=e=>{l.value=e},w=()=>{a.push("/cart")},F=()=>{h.value.trim()&&(a.push(`/search?q=${encodeURIComponent(h.value)}`),v.value=!1,h.value="")},L=async e=>{switch(e){case"person":a.push("/person");break;case"orders":a.push("/order");break;case"logout":try{await p(),_.clearUser(),u.nk.success("退出成功"),a.push("/login")}catch(l){u.nk.error("退出失败")}break}};return(e,a)=>{const n=(0,s.g2)("el-menu-item"),c=(0,s.g2)("el-menu"),u=(0,s.g2)("el-icon"),p=(0,s.g2)("el-badge"),_=(0,s.g2)("el-dropdown-item"),C=(0,s.g2)("el-dropdown-menu"),V=(0,s.g2)("el-dropdown"),R=(0,s.g2)("el-button"),x=(0,s.g2)("el-input"),W=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",k,[a[15]||(a[15]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("div",null,[(0,s.Lk)("img",{src:i,alt:"金苹果烘培"}),(0,s.Lk)("span",{class:"brand-text"},"金苹果烘培")])],-1)),(0,s.Lk)("div",f,[(0,s.bF)(c,{mode:"horizontal","default-active":l.value,router:"",onSelect:y,class:"sweet-menu"},{default:(0,s.k6)(()=>[(0,s.bF)(n,{index:"/home"},{default:(0,s.k6)(()=>a[3]||(a[3]=[(0,s.eW)("首页",-1)])),_:1,__:[3]}),(0,s.bF)(n,{index:"/cakes"},{default:(0,s.k6)(()=>a[4]||(a[4]=[(0,s.eW)("蛋糕甄选",-1)])),_:1,__:[4]}),(0,s.bF)(n,{index:"/desserts"},{default:(0,s.k6)(()=>a[5]||(a[5]=[(0,s.eW)("甜品系列",-1)])),_:1,__:[5]}),(0,s.bF)(n,{index:"/pet"},{default:(0,s.k6)(()=>a[6]||(a[6]=[(0,s.eW)("宠物蛋糕",-1)])),_:1,__:[6]}),(0,s.bF)(n,{index:"/cooperation"},{default:(0,s.k6)(()=>a[7]||(a[7]=[(0,s.eW)("合作专区",-1)])),_:1,__:[7]}),(0,s.bF)(n,{index:"/us"},{default:(0,s.k6)(()=>a[8]||(a[8]=[(0,s.eW)("关于我们",-1)])),_:1,__:[8]})]),_:1},8,["default-active"])]),(0,s.Lk)("div",b,[(0,s.Lk)("div",{class:"icon-item",onClick:a[0]||(a[0]=e=>v.value=!0)},[(0,s.bF)(u,{class:"sweet-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.vji))]),_:1}),a[9]||(a[9]=(0,s.Lk)("span",null,"搜索",-1))]),(0,s.Lk)("div",{class:"icon-item",onClick:w},[(0,s.bF)(p,{value:o.value,max:99,hidden:0===o.value,class:"sweet-badge"},{default:(0,s.k6)(()=>[(0,s.bF)(u,{class:"sweet-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.JBW))]),_:1})]),_:1},8,["value","hidden"]),a[10]||(a[10]=(0,s.Lk)("span",null,"购物车",-1))]),(0,s.bF)(V,{trigger:"click",onCommand:L,class:"sweet-dropdown"},{dropdown:(0,s.k6)(()=>[(0,s.bF)(C,{class:"sweet-dropdown-menu"},{default:(0,s.k6)(()=>[(0,s.bF)(_,{command:"person",class:"sweet-dropdown-item"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.eHG))]),_:1}),a[12]||(a[12]=(0,s.eW)(" 个人中心 ",-1))]),_:1,__:[12]}),(0,s.bF)(_,{command:"orders",class:"sweet-dropdown-item"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.e7F))]),_:1}),a[13]||(a[13]=(0,s.eW)(" 我的订单 ",-1))]),_:1,__:[13]}),(0,s.bF)(_,{divided:"",command:"logout",class:"sweet-dropdown-item"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.L$q))]),_:1}),a[14]||(a[14]=(0,s.eW)(" 退出登录 ",-1))]),_:1,__:[14]})]),_:1})]),default:(0,s.k6)(()=>[(0,s.Lk)("div",g,[(0,s.bF)(u,{class:"sweet-icon"},{default:(0,s.k6)(()=>[(0,s.bF)((0,d.R1)(r.KJW))]),_:1}),a[11]||(a[11]=(0,s.Lk)("span",null,"我的",-1))])]),_:1})])]),(0,s.bF)(W,{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value=e),title:"搜索甜蜜美味",width:"30%",center:"",class:"sweet-dialog"},{default:(0,s.k6)(()=>[(0,s.bF)(x,{modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),placeholder:"请输入您想寻找的蛋糕或甜品...",clearable:"",onKeyup:(0,t.jR)(F,["enter"]),class:"sweet-search-input"},{append:(0,s.k6)(()=>[(0,s.bF)(R,{icon:(0,d.R1)(r.vji),onClick:F,class:"sweet-search-btn"},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}},_=l(1241);const y=(0,_.A)(h,[["__scopeId","data-v-cbb6532c"]]);var w=y;l(3407);const F={id:"app"},L={class:"header"},C={class:"main-content"};var V={__name:"App",setup(e){const a=(0,s.EW)(()=>"/login"===l.path),l=(0,n.lq)(),i=(0,d.KR)(!1),c=(0,d.KR)("rgba(255, 255, 255, 0.8)");return(0,s.wB)(()=>l.path,async(e,a)=>{e!==a&&(i.value=!0,await new Promise(e=>setTimeout(e,300)),i.value=!1)},{immediate:!0}),(e,l)=>{const n=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("header",L,[a.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(w,{key:0}))]),(0,s.Lk)("main",C,[(0,s.bF)(n,null,{default:(0,s.k6)(({Component:e,route:a})=>[(0,s.bF)(t.eB,{name:a.meta.transition||"fade",mode:"out-in"},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e),{key:a.path}))]),_:2},1032,["name"])]),_:1})]),(0,s.bF)((0,d.R1)(o.Ks),{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),fullscreen:!0,"background-color":c.value},null,8,["modelValue","background-color"])])}}};const R=V;var x=R,W=l(1671),A=l(2261),E=(0,A.Ey)(),I=l(7694);l(4188);const K=(0,t.Ef)(x);K.config.globalProperties.$request=v.A,K.use(E),K.use(W.A),K.use(I.A),K.use((0,A.Ey)()),K.mount("#app")}},a={};function l(t){var s=a[t];if(void 0!==s)return s.exports;var d=a[t]={exports:{}};return e[t].call(d.exports,d,d.exports,l),d.exports}l.m=e,function(){var e=[];l.O=function(a,t,s,d){if(!t){var n=1/0;for(r=0;r<e.length;r++){t=e[r][0],s=e[r][1],d=e[r][2];for(var o=!0,i=0;i<t.length;i++)(!1&d||n>=d)&&Object.keys(l.O).every(function(e){return l.O[e](t[i])})?t.splice(i--,1):(o=!1,d<n&&(n=d));if(o){e.splice(r--,1);var c=s();void 0!==c&&(a=c)}}return a}d=d||0;for(var r=e.length;r>0&&e[r-1][2]>d;r--)e[r]=e[r-1];e[r]=[t,s,d]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce(function(a,t){return l.f[t](e,a),a},[]))}}(),function(){l.u=function(e){return"js/"+e+"."+{30:"bf154c46",64:"7ad38ead",334:"b2c44074"}[e]+".js"}}(),function(){l.miniCssF=function(e){return"css/"+e+"."+{30:"ab694078",64:"86027e0b",334:"98a43087"}[e]+".css"}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="cake_shop:";l.l=function(t,s,d,n){if(e[t])e[t].push(s);else{var o,i;if(void 0!==d)for(var c=document.getElementsByTagName("script"),r=0;r<c.length;r++){var u=c[r];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==a+d){o=u;break}}o||(i=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",a+d),o.src=t),e[t]=[s];var v=function(a,l){o.onerror=o.onload=null,clearTimeout(p);var s=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(function(e){return e(l)}),a)return a(l)},p=setTimeout(v.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=v.bind(null,o.onerror),o.onload=v.bind(null,o.onload),i&&document.head.appendChild(o)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,a,t,s,d){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",l.nc&&(n.nonce=l.nc);var o=function(l){if(n.onerror=n.onload=null,"load"===l.type)s();else{var t=l&&l.type,o=l&&l.target&&l.target.href||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+t+": "+o+")");i.name="ChunkLoadError",i.code="CSS_CHUNK_LOAD_FAILED",i.type=t,i.request=o,n.parentNode&&n.parentNode.removeChild(n),d(i)}};return n.onerror=n.onload=o,n.href=a,t?t.parentNode.insertBefore(n,t.nextSibling):document.head.appendChild(n),n},a=function(e,a){for(var l=document.getElementsByTagName("link"),t=0;t<l.length;t++){var s=l[t],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===e||d===a))return s}var n=document.getElementsByTagName("style");for(t=0;t<n.length;t++){s=n[t],d=s.getAttribute("data-href");if(d===e||d===a)return s}},t=function(t){return new Promise(function(s,d){var n=l.miniCssF(t),o=l.p+n;if(a(n,o))return s();e(t,o,null,s,d)})},s={524:0};l.f.miniCss=function(e,a){var l={30:1,64:1,334:1};s[e]?a.push(s[e]):0!==s[e]&&l[e]&&a.push(s[e]=t(e).then(function(){s[e]=0},function(a){throw delete s[e],a}))}}}(),function(){var e={524:0};l.f.j=function(a,t){var s=l.o(e,a)?e[a]:void 0;if(0!==s)if(s)t.push(s[2]);else{var d=new Promise(function(l,t){s=e[a]=[l,t]});t.push(s[2]=d);var n=l.p+l.u(a),o=new Error,i=function(t){if(l.o(e,a)&&(s=e[a],0!==s&&(e[a]=void 0),s)){var d=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;o.message="Loading chunk "+a+" failed.\n("+d+": "+n+")",o.name="ChunkLoadError",o.type=d,o.request=n,s[1](o)}};l.l(n,i,"chunk-"+a,a)}},l.O.j=function(a){return 0===e[a]};var a=function(a,t){var s,d,n=t[0],o=t[1],i=t[2],c=0;if(n.some(function(a){return 0!==e[a]})){for(s in o)l.o(o,s)&&(l.m[s]=o[s]);if(i)var r=i(l)}for(a&&a(t);c<n.length;c++)d=n[c],l.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return l.O(r)},t=self["webpackChunkcake_shop"]=self["webpackChunkcake_shop"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],function(){return l(6091)});t=l.O(t)})();
//# sourceMappingURL=app.828035c1.js.map